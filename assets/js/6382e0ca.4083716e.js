"use strict";(self.webpackChunkappcircle_docusaurus=self.webpackChunkappcircle_docusaurus||[]).push([[95891],{93978:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[{value:"Need help?",id:"need-help",level:3}];function c(e){const n={a:"a",h3:"h3",...(0,i.R)(),...e.components},{ExternalUrlRef:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"need-help",children:"Need help?"}),"\n",(0,s.jsx)("p",{class:"need-help",children:"Get help from Appcircle's support team, or see how others are using Appcircle by joining our Slack Channel."}),"\n",(0,s.jsx)("p",{class:"need-help",children:(0,s.jsx)(n.a,{href:"https://join.slack.com/t/appcircleio/signup",children:(0,s.jsx)(r,{url:"https://join.slack.com/t/appcircleio/signup",title:"Slack",description:"No description available",image:"https://cdn.appcircle.io/docs/assets/appcircle-logo.png"})})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},42167:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"self-hosted-appcircle/install-server/helm-chart/installation/kubernetes","title":"Kubernetes","description":"Learn how to install and configure self-hosted Appcircle server with Helm chart to Kubernetes","source":"@site/docs/self-hosted-appcircle/install-server/helm-chart/installation/kubernetes.md","sourceDirName":"self-hosted-appcircle/install-server/helm-chart/installation","slug":"/self-hosted-appcircle/install-server/helm-chart/installation/kubernetes","permalink":"/self-hosted-appcircle/install-server/helm-chart/installation/kubernetes","draft":false,"unlisted":false,"editUrl":"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/self-hosted-appcircle/install-server/helm-chart/installation/kubernetes.md","tags":[{"inline":false,"label":"self-hosted","permalink":"/tags/self-hosted","description":"Description for self-hosted"},{"inline":false,"label":"helm","permalink":"/tags/helm","description":"Helm related documentations"},{"inline":false,"label":"installation","permalink":"/tags/installation","description":"Description for installation"},{"inline":false,"label":"configuration","permalink":"/tags/configuration","description":"Description for configuration"},{"inline":false,"label":"kubernetes","permalink":"/tags/kubernetes","description":"Kubernetes related documentations"}],"version":"current","sidebarPosition":20,"frontMatter":{"title":"Kubernetes","description":"Learn how to install and configure self-hosted Appcircle server with Helm chart to Kubernetes","tags":["self-hosted","helm","installation","configuration","kubernetes"],"sidebar_position":20},"sidebar":"mySidebar","previous":{"title":"Troubleshooting & FAQ","permalink":"/self-hosted-appcircle/install-server/linux-package/faq"},"next":{"title":"Upgrades","permalink":"/self-hosted-appcircle/install-server/helm-chart/upgrades"}}');var i=r(74848),t=r(28453),c=r(11470),l=r(19365),o=r(93978);const a={title:"Kubernetes",description:"Learn how to install and configure self-hosted Appcircle server with Helm chart to Kubernetes",tags:["self-hosted","helm","installation","configuration","kubernetes"],sidebar_position:20},d=void 0,h={},p=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Domain Name",id:"1-domain-name",level:3},{value:"2. SSL Certificate",id:"2-ssl-certificate",level:3},{value:"3. Kubernetes Cluster",id:"3-kubernetes-cluster",level:3},{value:"4. <code>kubectl</code>",id:"4-kubectl",level:3},{value:"5. Helm v3",id:"5-helm-v3",level:3},{value:"Pre-installation Steps",id:"pre-installation-steps",level:2},{value:"1. Ingress Controller",id:"1-ingress-controller",level:3},{value:"Enable SSL Passthrough",id:"enable-ssl-passthrough",level:4},{value:"Ingress Configurations",id:"ingress-configurations",level:4},{value:"2. Production Readiness",id:"2-production-readiness",level:3},{value:"3. Create Namespace",id:"3-create-namespace",level:3},{value:"4. Create Container Registry Secret",id:"4-create-container-registry-secret",level:3},{value:"Installation",id:"installation",level:2},{value:"1. Create <code>values.yaml</code>",id:"1-create-valuesyaml",level:3},{value:"2. Remove Sensitive Information From <code>values.yaml</code>",id:"2-remove-sensitive-information-from-valuesyaml",level:3},{value:"3. Add the Appcircle Helm Repository",id:"3-add-the-appcircle-helm-repository",level:3},{value:"4. Install the Appcircle Server",id:"4-install-the-appcircle-server",level:3},{value:"Post-installation Steps",id:"post-installation-steps",level:2},{value:"1. Add DNS Records",id:"1-add-dns-records",level:3},{value:"2. Login to the Appcircle Dashboard",id:"2-login-to-the-appcircle-dashboard",level:3},{value:"3. Connecting Runners",id:"3-connecting-runners",level:3},{value:"4. Apply the Appcircle License",id:"4-apply-the-appcircle-license",level:3},...o.RM];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["This guide offers a comprehensive overview of installing the Appcircle chart. While the provided ",(0,i.jsx)(n.strong,{children:"default values"})," are suitable ",(0,i.jsx)(n.strong,{children:"for initial trials"}),", they are not recommended for production environments."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"For production deployments"}),", it is essential to ",(0,i.jsx)(n.strong,{children:"review the detailed descriptions"})," and ",(0,i.jsx)(n.strong,{children:"optional sections"})," to ensure a secure and reliable setup. ",(0,i.jsx)(n.strong,{children:"This document supports both trial and production installations"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.p,{children:"To complete this guide, you must have the following:"}),"\n",(0,i.jsx)(n.h3,{id:"1-domain-name",children:"1. Domain Name"}),"\n",(0,i.jsxs)(n.p,{children:["A main ",(0,i.jsx)(n.strong,{children:"domain name"}),", which will have ",(0,i.jsx)(n.strong,{children:"subdomains"}),", is ",(0,i.jsx)(n.strong,{children:"required"})," for the Appcircle server."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["In this documentation, we will use ",(0,i.jsx)(n.code,{children:"appcircle.spacetech.com"})," as an ",(0,i.jsx)(n.strong,{children:"example main domain"})," and ",(0,i.jsx)(n.code,{children:"spacetech"})," as an ",(0,i.jsx)(n.strong,{children:"example organization name"}),"."]})}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Click to view more details about domain name prerequisite."}),(0,i.jsx)(n.p,{children:"By default, Appcircle uses seven subdomains. These subdomains are:"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"api.appcircle.spacetech.com"}),"\n",(0,i.jsx)(n.li,{children:"auth.appcircle.spacetech.com"}),"\n",(0,i.jsx)(n.li,{children:"dist.appcircle.spacetech.com"}),"\n",(0,i.jsx)(n.li,{children:"hook.appcircle.spacetech.com"}),"\n",(0,i.jsx)(n.li,{children:"resource.appcircle.spacetech.com"}),"\n",(0,i.jsx)(n.li,{children:"my.appcircle.spacetech.com"}),"\n",(0,i.jsx)(n.li,{children:"kvs.appcircle.spacetech.com"}),"\n"]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Upon completing the deployment"})," of the Appcircle server, you will need to create DNS records based on the Ingress objects created in Kubernetes."]})]}),"\n",(0,i.jsx)(n.h3,{id:"2-ssl-certificate",children:"2. SSL Certificate"}),"\n",(0,i.jsxs)(n.p,{children:["An ",(0,i.jsx)(n.strong,{children:"SSL certificate"})," is ",(0,i.jsx)(n.strong,{children:"required"})," to deploy the Appcircle server for ",(0,i.jsx)(n.strong,{children:"production"})," environments."]}),"\n",(0,i.jsxs)(n.p,{children:["You ",(0,i.jsx)(n.strong,{children:"can skip"})," SSL certificate if you are deploying Appcircle server ",(0,i.jsx)(n.strong,{children:"for trial purposes"}),"."]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Click to view more details about SSL certificate prerequisite."}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The SSL certificate private key shouldn't be password protected."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The SSL certificate should be in PEM format."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Ensure the ",(0,i.jsx)(n.strong,{children:"one certificate"})," covers ",(0,i.jsx)(n.strong,{children:"all the subdomains"})," in the ",(0,i.jsx)(n.a,{href:"#1-domain-name",children:"domain name"})," section."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Make sure to configure the Appcircle server with a ",(0,i.jsx)(n.strong,{children:"fullchain certificate"}),", which should include the leaf (or app) certificate, intermediate certificates, and the root certificate."]}),"\n"]}),"\n"]}),(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["You can use a ",(0,i.jsx)(n.strong,{children:"wildcard certificate"})," to cover all the subdomains, simplifying the certificate management process. For example, a wildcard certificate for ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"*.appcircle.spacetech.com"})})," will be enough."]})}),(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["If you use a domain like ",(0,i.jsx)(n.code,{children:"appcircle.spacetech.com"}),", it will have ",(0,i.jsx)(n.strong,{children:"two levels of subdomains"}),". Ensure that both your DNS provider and SSL certificate provider support multi-level subdomains for proper configuration."]})})]}),"\n",(0,i.jsx)(n.h3,{id:"3-kubernetes-cluster",children:"3. Kubernetes Cluster"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"Kubernetes cluster"})," is ",(0,i.jsx)(n.strong,{children:"required"})," to install the Appcircle server using Helm."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Minimum hardware requirements for enterprise installation:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Node(s) with ",(0,i.jsx)(n.code,{children:"x86_64"})," architecture"]}),"\n",(0,i.jsx)(n.li,{children:"8 CPUs"}),"\n",(0,i.jsx)(n.li,{children:"16 GB RAM"}),"\n",(0,i.jsx)(n.li,{children:"50 GB Disk per node"}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"The required storage size for the Appcircle server depends significantly on the size of the artifacts (APK, IPA, cache)."})}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Click to view more details about Kubernetes cluster prerequisite."}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Recommended hardware requirements for enterprise installation:"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Nodes with ",(0,i.jsx)(n.code,{children:"x86_64"})," architecture"]}),"\n",(0,i.jsx)(n.li,{children:"32 CPUs"}),"\n",(0,i.jsx)(n.li,{children:"64 GB RAM"}),"\n",(0,i.jsx)(n.li,{children:"1 TB Disk"}),"\n"]}),(0,i.jsx)(n.p,{children:"For production environments, if you deploy stateful applications with the Appcircle Helm chart, you will need significant storage capacity, as specified above. You can configure disk resource allocations through Helm values according to your needs."}),(0,i.jsxs)(n.p,{children:["However, if you opt to use external services for components such as PostgreSQL or MinIO, the storage requirements for the cluster are significantly reduced to around 50GB. It is ",(0,i.jsx)(n.strong,{children:"highly recommended"})," to deploy stateful apps outside of the Appcircle Helm chart configuration."]}),(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["For stateful apps that should deployed out of scope this helm chart, you can check the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/configuration/production-readiness",children:"Production Readiness"})," document."]}),(0,i.jsxs)(n.p,{children:["For storage details, you can check the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/configuration/storage-configuration",children:"Storage Class Configuration"})," section."]})]}),(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Using SSD storage is highly recommended if stateful applications are installed within the Appcircle Helm chart scope. SSDs provide faster read/write speeds, improving the performance and responsiveness of your applications."})}),(0,i.jsx)(n.p,{children:"Additionally, ensure that your Kubernetes version is 1.29.1 or later to maintain compatibility and support."})]}),"\n",(0,i.jsxs)(n.h3,{id:"4-kubectl",children:["4. ",(0,i.jsx)(n.code,{children:"kubectl"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"kubectl"})})," CLI is ",(0,i.jsx)(n.strong,{children:"required"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"5-helm-v3",children:"5. Helm v3"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["Helm version ",(0,i.jsx)(n.code,{children:"3.11.0"})]})," or later is ",(0,i.jsx)(n.strong,{children:"required"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"pre-installation-steps",children:"Pre-installation Steps"}),"\n",(0,i.jsx)(n.h3,{id:"1-ingress-controller",children:"1. Ingress Controller"}),"\n",(0,i.jsxs)(n.p,{children:["The Kubernetes cluster should have ",(0,i.jsx)(n.strong,{children:"an Ingress controller"})," installed and configured since Appcircle exposes its services through ",(0,i.jsx)(n.strong,{children:"Ingress objects"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"trial"})," purposes, you can ",(0,i.jsx)(n.strong,{children:"use"})," the default ",(0,i.jsx)(n.strong,{children:"Ingress-Nginx"})," controller deployed ",(0,i.jsx)(n.strong,{children:"within the Helm chart"})," scope and skip this section."]}),"\n",(0,i.jsxs)(n.p,{children:["You can check the default Ingress-Nginx controller values and configure as your needs by checking the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/configuration/ingress-configuration#appcircle-default-ingress-nginx-configuration",children:"Ingress Configuration"})," documentation."]}),"\n",(0,i.jsxs)(n.p,{children:["For ",(0,i.jsx)(n.strong,{children:"production"})," environments, it's recommended to use ",(0,i.jsx)(n.strong,{children:"your own Ingress controller"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Appcircle server supports Ingress-Nginx controller by default. To install Ingress-Nginx controller to the Kubernetes cluster, please check ",(0,i.jsx)(n.a,{href:"https://kubernetes.github.io/ingress-nginx/deploy/#installation-guide",children:"the Ingress-Nginx controller documentation"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Other Ingress controllers"})," like HAProxy Ingress controller are also ",(0,i.jsx)(n.strong,{children:"supported"})," by ",(0,i.jsx)(n.strong,{children:"modifying Helm values"})," accordingly."]})}),"\n",(0,i.jsx)(n.h4,{id:"enable-ssl-passthrough",children:"Enable SSL Passthrough"}),"\n",(0,i.jsxs)(n.p,{children:["You can ",(0,i.jsx)(n.strong,{children:"skip"})," this section ",(0,i.jsx)(n.strong,{children:"if you use the default"})," Ingress-Nginx controller deployed ",(0,i.jsx)(n.strong,{children:"within the Helm chart scope"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Enable ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"ssl-passthrough"})})," feature on your ingress-controller Enabling the SSL passthrough depends on the Ingress controller that is used in the Kubernetes cluster. For example:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["For Nginx Ingress controller, you can check ",(0,i.jsx)(n.a,{href:"https://kubernetes.github.io/ingress-nginx/user-guide/tls/#ssl-passthrough",children:"the Nginx documentation"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["For HAProxy Ingress controller, you can check ",(0,i.jsx)(n.a,{href:"https://www.haproxy.com/documentation/kubernetes-ingress/community/configuration-reference/ingress/#ssl-passthrough",children:"the HAProxy documentation"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Enabling the SSL passthrough option ",(0,i.jsx)(n.strong,{children:"does not"})," automatically allow all SSL traffic ",(0,i.jsx)(n.strong,{children:"from all Ingress objects"})," to pass through to the original service. Instead, it enables Ingress resources to leverage the SSL passthrough feature, allowing encrypted traffic to reach the backend service without being decrypted by the Ingress controller."]})}),"\n",(0,i.jsx)(n.h4,{id:"ingress-configurations",children:"Ingress Configurations"}),"\n",(0,i.jsxs)(n.p,{children:["You can ",(0,i.jsx)(n.strong,{children:"skip"})," this section ",(0,i.jsx)(n.strong,{children:"if you use the default"})," Ingress-Nginx controller deployed ",(0,i.jsx)(n.strong,{children:"within the Helm chart scope"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Configure the Appcircle ingresses for production usage. For more details, please check the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/configuration/ingress-configuration#configuring-ingress-annotations",children:"Ingress Configuration"})," documentation."]}),"\n",(0,i.jsx)(n.h3,{id:"2-production-readiness",children:"2. Production Readiness"}),"\n",(0,i.jsx)(n.p,{children:"If you are deploying the Appcircle server for a production environment, it is recommended that stateful applications, such as databases or object storage, be deployed outside the scope of the Appcircle server Helm chart."}),"\n",(0,i.jsxs)(n.p,{children:["For more information, you can check the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/configuration/production-readiness",children:"Production Readiness"})," documentation."]}),"\n",(0,i.jsx)(n.h3,{id:"3-create-namespace",children:"3. Create Namespace"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Create a namespace"})," for the Appcircle server deployment. In this documentation, we will use ",(0,i.jsx)(n.code,{children:"appcircle"})," as the example namespace."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl create namespace appcircle\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-create-container-registry-secret",children:"4. Create Container Registry Secret"}),"\n",(0,i.jsxs)(n.p,{children:["By default, Appcircle uses its own image registry, which requires authentication with the ",(0,i.jsx)(n.code,{children:"cred.json"})," file provided by Appcircle."]}),"\n",(0,i.jsx)(n.p,{children:"If you are using your own container image registry to access Appcircle container images, you can either skip authentication if your registry doesn't require it or create a secret for your custom registry."}),"\n",(0,i.jsxs)(n.p,{children:["Follow the steps below to create the registry secret in the ",(0,i.jsx)(n.code,{children:"appcircle"})," namespace for pods to successfully pull images:"]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["If you are using your own container registry, follow the ",(0,i.jsx)(n.code,{children:"Custom Registry"})," section below."]}),(0,i.jsx)(n.p,{children:"If your registry doesn't require authentication, you can skip this section."})]}),"\n",(0,i.jsxs)(c.A,{groupId:"Image Registry",children:[(0,i.jsxs)(l.A,{value:"appcircle-registry",label:"Appcircle Registry",children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Save the ",(0,i.jsx)(n.code,{children:"cred.json"})," file."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create the container registry secret:"}),"\n"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl create secret docker-registry containerregistry \\\n  -n appcircle \\\n  --docker-server='europe-west1-docker.pkg.dev' \\\n  --docker-username='_json_key' \\\n  --docker-password=\"$(cat cred.json)\"\n"})})]}),(0,i.jsxs)(l.A,{value:"custom-registry",label:"Custom Registry",children:[(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["If the ",(0,i.jsx)(n.code,{children:"HISTCONTROL"})," environment variable is set to ",(0,i.jsx)(n.code,{children:"ignoreboth"}),", commands with a leading space character will not be stored in the shell history. This allows you to create secrets safely without storing sensitive information in the shell history."]})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Update the ",(0,i.jsx)(n.code,{children:"server"}),", ",(0,i.jsx)(n.code,{children:"username"}),", and ",(0,i.jsx)(n.code,{children:"password"})," fields for your own custom registry and create the container registry secret:"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl create secret docker-registry containerregistry \\\n  -n appcircle \\\n  --docker-server='registry.spacetech.com' \\\n  --docker-username='yourRegistryUsername' \\\n  --docker-password='superSecretRegistryPassword'\n"})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(n.h3,{id:"1-create-valuesyaml",children:["1. Create ",(0,i.jsx)(n.code,{children:"values.yaml"})]}),"\n",(0,i.jsxs)(n.p,{children:["Below is a minimal ",(0,i.jsx)(n.code,{children:"values.yaml"})," file that you should configure for your deployment."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Please adjust these values"})," according to your environment requirements and ",(0,i.jsx)(n.strong,{children:"save your file"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["In the example values below, we used ",(0,i.jsx)(n.code,{children:"spacetech"})," as an ",(0,i.jsx)(n.strong,{children:"example organization name"}),". You should ",(0,i.jsx)(n.strong,{children:"replace it"})," with your actual organization name or any other value you prefer."]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["Please ",(0,i.jsxs)(n.strong,{children:["review the comments for the ",(0,i.jsx)(n.code,{children:"values.yaml"})]})," below. If the values provided are incompatible, the installation may not complete successfully. Ensure that all configurations are correctly entered to avoid potential issues during the setup process."]})}),"\n",(0,i.jsxs)(c.A,{groupId:"Example Values",children:[(0,i.jsx)(l.A,{value:"minimal",label:"Minimal Configuration",children:(0,i.jsxs)(r,{children:[(0,i.jsxs)("summary",{children:["Click to view example ",(0,i.jsx)(n.code,{children:"values.yaml"})," file."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# Global configurations for Appcircle deployment\nglobal:\n  urls:\n    # Main domain configuration - All Appcircle services will be subdomains of this domain\n    domainName: .appcircle.spacetech.com\n  # SMTP server configuration for sending emails (Authentication, Notifications, Testing Distribution)\n  mail:\n    smtp:\n      # SMTP server host\n      host: "smtp.spacetech.com"\n      # SMTP Server port, 587 typically used for StartTLS\n      port: "587"\n      # Email address that will be used as sender\n      from: "appcircle@yandex.com"\n      # SSL configuration - Set to \'true\' if the SMTP server uses SSL/TLS protocol for secure communication, typically on port 465.\n      ssl: "false"\n      # StartTLS configuration - Set to \'true\' if the SMTP server uses StartTLS protocol, typically on port 587.\n      tls: "true"\n      # SMTP authentication settings\n      auth: "true"\n      username: "appcircle-smtp-user"\n      password: "superSecretSmtpPassword"\n\n# Authentication configuration\nauth:\n  auth-keycloak:\n    # Initial admin user email for Appcircle server\n    initialUsername: "admin@spacetech.com"\n'})})]})}),(0,i.jsx)(l.A,{value:"production",label:"Production Configuration",children:(0,i.jsxs)(r,{children:[(0,i.jsxs)("summary",{children:["Click to view example ",(0,i.jsx)(n.code,{children:"values.yaml"})," file."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'# Global configurations for Appcircle deployment\nglobal:\n  urls:\n    # Main domain configuration - All Appcircle services will be subdomains of this domain\n    domainName: .appcircle.spacetech.com\n    # Protocol to be used for connections\n    scheme: https\n\n  # SMTP server configuration for sending emails (Authentication, Notifications, Testing Distribution)\n  mail:\n    smtp:\n      # SMTP server host\n      host: smtp.spacetech.com\n      # SMTP Server port, 587 typically used for StartTLS\n      port: 587\n      # Email address that will be used as sender\n      from: appcircle@spacetech.com\n      # SSL configuration - Set to \'true\' if the SMTP server uses SSL/TLS protocol for secure communication, typically on port 465.\n      ssl: "false"\n      # StartTLS configuration - Set to \'true\' if the SMTP server uses StartTLS protocol, typically on port 587.\n      tls: "true"\n      # SMTP authentication settings\n      auth: "true"\n      username: smtpUserName\n      # You can create a secret with the password or directly enter the password here.\n      password: superSecretSmtpPassword\n\n  # If the K8s cluster access the container images from a private container image registry, you can configure it here.\n  # Container Image Registry host for container images\n  imageRegistry: europe-west1-docker.pkg.dev\n  # Container Image Repository path between registry host and image name\n  imageRepositoryPath: appcircle/docker-registry\n\n  # Kubernetes Ingress controller class\n  ingressClassName: "nginx"\n\n  # SSL/TLS certificate configuration for HTTPS\n  # You can create a secret with the certificate and key or directly enter them here.\n  tlsWildcard:\n    # Public certificate - Fullchain including leaf (app), intermediate and root SSL certificates\n    cert: |\n      -----BEGIN CERTIFICATE-----\n      MIIFzTCCBLWgAwIBAgISBMLn5uQI6Wmzku14xXUbbIbmMA0GCSqGSIb3DQEBCwUA\n      ...\n      SA==\n      -----END CERTIFICATE-----\n      -----BEGIN CERTIFICATE-----\n      MIIFBjCCAu6gAwIBAgIRAIp9PhPWLzDvI4a9KQdrNPgwDQYJKoZIhvcNAQELBQAw\n      ...\n      uYkQ4omYCTX5ohy+knMjdOmdH9c7SpqEWBDC86fiNex+O0XOMEZSa8DA\n      -----END CERTIFICATE-----\n      -----BEGIN CERTIFICATE-----\n      MIIFazCCA1OgAwIBAgIRAIIQz7DSQONZRGPgu2OCiwAwDQYJKoZIhvcNAQELBQAw\n      ...\n      emyPxgcYxn/eR44/KJ4EBs+lVDR3veyJm+kXQ99b21/+jh5Xos1AnX5iItreGCc=\n      -----END CERTIFICATE-----\n    # Private key for the SSL certificate\n    key: |\n      -----BEGIN PRIVATE KEY-----\n      MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQC3wS87baGONXjr\n      ...\n      oUcjMAu/mGJjtn9AS0S7rRa58Q==\n      -----END PRIVATE KEY-----\n    # Certificate Authority public key - Typically the bottom certificate of the fullchain SSL certificate\n    caCert: |\n      -----BEGIN CERTIFICATE-----\n      MIIFazCCA1OgAwIBAgIRAIIQz7DSQONZRGPgu2OCiwAwDQYJKoZIhvcNAQELBQAw\n      ...\n      emyPxgcYxn/eR44/KJ4EBs+lVDR3veyJm+kXQ99b21/+jh5Xos1AnX5iItreGCc=\n      -----END CERTIFICATE-----\n# Authentication configuration\nauth:\n  auth-keycloak:\n    # Organization name for Appcircle server\n    organizationName: spacetech\n    # Initial admin user email for Appcircle server\n    initialUsername: "admin@example.com"\n    # Initial admin password - Should contain: min 6 chars, 1 lowercase, 1 uppercase, 1 number\n    # You can create a secret with the password or directly enter the password here\n    initialPassword: "superSecretAppcirclePassword1234"\n    image:\n      # Appcircle keycloak image repository path\n      repository: europe-west1-docker.pkg.dev/appcircle/docker-registry/appcircle-keycloak\n\n# Internal Ingress controller configuration\ningress-nginx:\n  enabled: false\n\n# Appcircle vault configuration\nvault:\n  server:\n    image:\n      # Appcircle vault image repository path\n      repository: europe-west1-docker.pkg.dev/appcircle/docker-registry/appcircle-vault\n\n# Web event Redis configuration\nwebeventredis:\n  # Enable TLS for Redis connections\n  tls:\n    enabled: true\n  # Ingress configuration for Redis\n  ingress:\n    enabled: true\n    tls: true\n'})})]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"2-remove-sensitive-information-from-valuesyaml",children:["2. Remove Sensitive Information From ",(0,i.jsx)(n.code,{children:"values.yaml"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Remove sensitive information"})," such as Appcircle initial user password, SMTP password, SSL certificates, and other secrets from the ",(0,i.jsx)(n.code,{children:"values.yaml"})," ",(0,i.jsx)(n.strong,{children:"for production environments"}),", by checking the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/configuration/sensitive-configuration",children:"Sensitive Values"})," documentation."]}),"\n",(0,i.jsx)(n.h3,{id:"3-add-the-appcircle-helm-repository",children:"3. Add the Appcircle Helm Repository"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Add the Appcircle Helm repository"})," to the configuration of Helm:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm repo add appcircle https://helm-package.appcircle.io && \\\nhelm repo update\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-install-the-appcircle-server",children:"4. Install the Appcircle Server"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Run the following Helm command"})," to install the Appcircle server chart."]}),"\n",(0,i.jsxs)(n.p,{children:["In this example, we deploy the Appcircle server to a single namespace, using ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"appcircle"})})," as the ",(0,i.jsx)(n.strong,{children:"namespace"})," and ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"appcircle-server"})})," as the Helm ",(0,i.jsx)(n.strong,{children:"release name"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm install appcircle-server appcircle/appcircle \\\n  --timeout 1200s \\\n  -n appcircle \\\n  -f values.yaml\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"If you need or want to change the release name, please note that it should be 18 characters or fewer."})}),"\n",(0,i.jsxs)(n.p,{children:["You can watch the Appcircle server installation with any Kubernetes monitoring tool. The installation process duration depends on factors such as network speed and the processing power of your Kubernetes nodes. Typically, the installation may take up to ",(0,i.jsx)(n.strong,{children:"10 to 15 minutes"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"To make sure that the Appcircle server is installed successfully, you can run the command below and wait to finish:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'kubectl wait --for=condition=ready pod \\\n  -l app.kubernetes.io/instance=appcircle-server \\\n  -n appcircle --timeout 1200s && \\\n  echo "Appcircle is ready to use. Happy building! "\n'})}),"\n",(0,i.jsx)(n.h2,{id:"post-installation-steps",children:"Post-installation Steps"}),"\n",(0,i.jsx)(n.h3,{id:"1-add-dns-records",children:"1. Add DNS Records"}),"\n",(0,i.jsxs)(n.p,{children:["List the Ingresses with ",(0,i.jsx)(n.code,{children:"kubectl"})," to check the IP address of the Appcircle services domains."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get ingresses -n appcircle\n"})}),"\n",(0,i.jsx)(n.p,{children:"According to the example output below, you need to configure your DNS as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"NAME                               CLASS   HOSTS                                                          ADDRESS        PORTS      AGE\nappcircle-apigateway               nginx   api.appcircle.spacetech.com,auth.appcircle.spacetech.com       10.45.140.78   80,443     24m\nappcircle-distribution-testerweb   nginx   dist.appcircle.spacetech.com                                   10.45.140.78   80,443     24m\nappcircle-resource                 nginx   resource.appcircle.spacetech.com                               10.45.140.78   80,443     24m\nappcircle-store-web                nginx   *.store.appcircle.spacetech.com                                10.45.140.78   80,443     24m\nappcircle-web-app                  nginx   my.appcircle.spacetech.com                                     10.45.140.78   80,443     24m\nappcircle-web-event                nginx   hook.appcircle.spacetech.com                                   10.45.140.78   80,443     24m\nappcircle-webeventredis            nginx   kvs.appcircle.spacetech.com                                  10.45.140.78   80,443     24m\n"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Create an A Record for the ",(0,i.jsx)(n.code,{children:"api"})," domain:"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.appcircle.spacetech.com"})," \u2192 ",(0,i.jsx)(n.strong,{children:"10.45.140.78"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Create CNAME Records for the other domains:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"auth.appcircle.spacetech.com"})," \u2192 ",(0,i.jsx)(n.strong,{children:"api.appcircle.spacetech.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dist.appcircle.spacetech.com"})," \u2192 ",(0,i.jsx)(n.strong,{children:"api.appcircle.spacetech.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"resource.appcircle.spacetech.com"})," \u2192 ",(0,i.jsx)(n.strong,{children:"api.appcircle.spacetech.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"*.store.appcircle.spacetech.com"})," \u2192 You can skip this domain and use a ",(0,i.jsx)(n.a,{href:"https://docs.appcircle.io/enterprise-app-store/portal-settings#store-domain",children:"Custom Enterprise App Store Domain"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"my.appcircle.spacetech.com"})," \u2192 ",(0,i.jsx)(n.strong,{children:"api.appcircle.spacetech.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"hook.appcircle.spacetech.com"})," \u2192 ",(0,i.jsx)(n.strong,{children:"api.appcircle.spacetech.com"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"kvs.appcircle.spacetech.com"})," \u2192 ",(0,i.jsx)(n.strong,{children:"api.appcircle.spacetech.com"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-login-to-the-appcircle-dashboard",children:"2. Login to the Appcircle Dashboard"}),"\n",(0,i.jsxs)(n.p,{children:["Check the output of the ",(0,i.jsx)(n.code,{children:"Helm install"})," command to see login URL, initial username and command to get initial user password."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Self-Hosted Configuration:\n\n- Initial Organization Id : 8c23e250-4aa8-4ef6-888b-9514695aa1c7\n- Initial User            : admin@spacetech.com\n- Retrieve the initial user password by executing the following command:\u21b4\n    \n    kubectl get secret -n appcircle appcircle-server-auth-keycloak-passwords -ojsonpath='{.data.initialPassword}' | base64 --decode ; echo\n\nYou can access the application dashboard at:\u21b4\n\n   https://my.appcircle.spacetech.com\n\n\nSupport:\nFor any issues or questions, please contact the system administrator or check the application documentation.\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-connecting-runners",children:"3. Connecting Runners"}),"\n",(0,i.jsxs)(n.p,{children:["When you complete installation successfully by following above steps, you're ready for your first build. ","\ud83c\udf89"]}),"\n",(0,i.jsx)(n.p,{children:"But in order to run build pipelines, you need to install and connect self-hosted runners. We have dedicated section for installation and configuration of self-hosted runners."}),"\n",(0,i.jsxs)(n.p,{children:["Follow and apply related guidelines in ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/self-hosted-runner/installation",children:"here"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Self-hosted runner section in docs, has all details about runners and their configuration."}),"\n",(0,i.jsxs)(n.admonition,{type:"caution",children:[(0,i.jsxs)(n.p,{children:["By default, self-hosted runner package has pre-configured ",(0,i.jsx)(n.code,{children:"ASPNETCORE_REDIS_STREAM_ENDPOINT"})," and ",(0,i.jsx)(n.code,{children:"ASPNETCORE_BASE_API_URL"})," for Appcircle-hosted cloud."]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"webeventredis.appcircle.io:6379,ssl=true"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"https://api.appcircle.io/build/v1"})}),"\n"]}),(0,i.jsxs)(n.p,{children:["\u261d"," You need to change these values with your self-hosted Appcircle server's Redis and API URL."]}),(0,i.jsx)(n.p,{children:"Assuming our sample scenario explained above, these values should be:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"kvs.appcircle.spacetech.com:6379,ssl=false"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http://api.appcircle.spacetech.com/build/v1"})}),"\n"]}),(0,i.jsx)(n.p,{children:"for our example configuration."}),(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["If your Appcircle server is running with ",(0,i.jsx)(n.code,{children:"HTTPS"}),", then Redis and API URL should be like this:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"kvs.appcircle.spacetech.com:443,ssl=true"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"https://api.appcircle.spacetech.com/build/v1"})}),"\n"]})]}),(0,i.jsxs)(n.p,{children:["\ud83c\udf97"," After ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/self-hosted-runner/installation#1-download",children:"download"}),", open ",(0,i.jsx)(n.code,{children:"appsettings.json"})," with a text editor and change the ",(0,i.jsx)(n.code,{children:"ASPNETCORE_REDIS_STREAM_ENDPOINT"})," and the ",(0,i.jsx)(n.code,{children:"ASPNETCORE_BASE_API_URL"})," values according to your configuration."]}),(0,i.jsxs)(n.p,{children:["Please note that, you should do this before ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/self-hosted-runner/installation#2-register",children:"register"}),"."]})]}),"\n",(0,i.jsx)(n.p,{children:"Considering system performance, it will be good to install self-hosted runners to other machines. Self-hosted Appcircle server should run on a dedicated machine itself."}),"\n",(0,i.jsx)(n.p,{children:"You can install any number of runners regarding to your needs and connect them to self-hosted Appcircle server."}),"\n",(0,i.jsx)(n.h3,{id:"4-apply-the-appcircle-license",children:"4. Apply the Appcircle License"}),"\n",(0,i.jsx)(n.p,{children:"When you deploy the Appcircle server using Helm, a default license is provided. You can explore the Appcircle with the default license."}),"\n",(0,i.jsxs)(n.p,{children:["To obtain the license you purchased, please share the initial organization ID, which is printed after the ",(0,i.jsx)(n.code,{children:"helm"})," deployment command, with the Appcircle team and follow the detailed instructions available in the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/configuration/license-configuration",children:"Appcircle License Update"})," section."]}),"\n",(0,i.jsx)(o.Ay,{})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},19365:(e,n,r)=>{r.d(n,{A:()=>c});r(96540);var s=r(18215);const i={tabItem:"tabItem_Ymn6"};var t=r(74848);function c(e){let{children:n,hidden:r,className:c}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,s.A)(i.tabItem,c),hidden:r,children:n})}},11470:(e,n,r)=>{r.d(n,{A:()=>w});var s=r(96540),i=r(18215),t=r(23104),c=r(56347),l=r(205),o=r(57485),a=r(31682),d=r(70679);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:r}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:r,attributes:s,default:i}}=e;return{value:n,label:r,attributes:s,default:i}}))}(r);return function(e){const n=(0,a.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function u(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:r}=e;const i=(0,c.W6)(),t=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,o.aZ)(t),(0,s.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(i.location.search);n.set(t,e),i.replace({...i.location,search:n.toString()})}),[t,i])]}function g(e){const{defaultValue:n,queryString:r=!1,groupId:i}=e,t=p(e),[c,o]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=r.find((e=>e.default))??r[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:t}))),[a,h]=m({queryString:r,groupId:i}),[g,x]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,t]=(0,d.Dv)(r);return[i,(0,s.useCallback)((e=>{r&&t.set(e)}),[r,t])]}({groupId:i}),f=(()=>{const e=a??g;return u({value:e,tabValues:t})?e:null})();(0,l.A)((()=>{f&&o(f)}),[f]);return{selectedValue:c,selectValue:(0,s.useCallback)((e=>{if(!u({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),x(e)}),[h,x,t]),tabValues:t}}var x=r(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=r(74848);function v(e){let{className:n,block:r,selectedValue:s,selectValue:c,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:a}=(0,t.a_)(),d=e=>{const n=e.currentTarget,r=o.indexOf(n),i=l[r].value;i!==s&&(a(n),c(i))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":r},n),children:l.map((e=>{let{value:n,label:r,attributes:t}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>o.push(e),onKeyDown:h,onClick:d,...t,className:(0,i.A)("tabs__item",f.tabItem,t?.className,{"tabs__item--active":s===n}),children:r??n},n)}))})}function y(e){let{lazy:n,children:r,selectedValue:t}=e;const c=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=c.find((e=>e.props.value===t));return e?(0,s.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:c.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function b(e){const n=g(e);return(0,j.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,j.jsx)(v,{...n,...e}),(0,j.jsx)(y,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,j.jsx)(b,{...e,children:h(e.children)},String(n))}},28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>l});var s=r(96540);const i={},t=s.createContext(i);function c(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);