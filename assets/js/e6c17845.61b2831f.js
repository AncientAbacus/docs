"use strict";(self.webpackChunkappcircle_docusaurus=self.webpackChunkappcircle_docusaurus||[]).push([[95130],{93978:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[{value:"Need help?",id:"need-help",level:3}];function c(e){const n={a:"a",h3:"h3",...(0,i.R)(),...e.components},{ExternalUrlRef:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"need-help",children:"Need help?"}),"\n",(0,s.jsx)("p",{class:"need-help",children:"Get help from Appcircle's support team, or see how others are using Appcircle by joining our Slack Channel."}),"\n",(0,s.jsx)("p",{class:"need-help",children:(0,s.jsx)(n.a,{href:"https://join.slack.com/t/appcircleio/signup",children:(0,s.jsx)(r,{url:"https://join.slack.com/t/appcircleio/signup",title:"Slack",description:"No description available",image:"https://cdn.appcircle.io/docs/assets/appcircle-logo.png"})})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},36863:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[];function c(e){const n={admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsx)(n.p,{children:"Be aware that this process will cause downtime since it requires a restart of the Appcircle server."})})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},96481:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[];function c(e){const n={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["If you are using ",(0,s.jsx)(n.code,{children:"Firewalld"}),", you need to open the ports below according to your server configuration."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If you plan to run the Appcircle server with HTTPS:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --add-port=80/tcp --permanent\nsudo firewall-cmd --add-port=443/tcp --permanent\nsudo firewall-cmd --reload\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If you plan to run the Appcircle server with HTTP:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --add-port=80/tcp --permanent\nsudo firewall-cmd --add-port=6379/tcp --permanent\nsudo firewall-cmd --reload\n"})}),"\n",(0,s.jsx)(n.p,{children:"To check if the ports are open, you can run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --list-ports\n"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},86705:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[];function c(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["To ensure uninterrupted operation of the Appcircle server's background processes, you must enable the ",(0,s.jsx)(n.strong,{children:"linger"})," option on the host system."]}),"\n",(0,s.jsx)(n.p,{children:"Enabling this option allows the podman containers to persist even after user logouts, ensuring continuous functionality."}),"\n",(0,s.jsxs)(n.p,{children:["Check if the ",(0,s.jsx)(n.strong,{children:"linger"})," option is enabled for the current user with the below command."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'loginctl show-user "$USER" --property=Linger\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If you see ",(0,s.jsx)(n.code,{children:"Linger=yes"}),", it means that the option is enabled and you do not need extra configuration."]}),"\n",(0,s.jsxs)(n.p,{children:["If the output is ",(0,s.jsx)(n.code,{children:"Linger=no"}),", this means that the option is disabled and you cannot run the Appcircle server in the background."]}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.p,{children:["If the ",(0,s.jsx)(n.strong,{children:"linger"})," option is set to ",(0,s.jsx)(n.code,{children:"no"}),", you must enable it to run the Appcircle server in the background."]})}),"\n",(0,s.jsx)(n.p,{children:"To enable the linger\xa0option, you can use the command below:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"loginctl enable-linger\n"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},14817:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[];function c(e){const n={admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"To ensure successful operation of the Appcircle server, it is required to switch from the CNI network stack to Netavark if Podman is bundled with CNI. You can see your network stack by running:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"podman info | grep -i networkBackend\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can switch to Netavark network stack by simply installing Netavark and configure podman to use Netavark."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo dnf install -y netavark\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once the installation is complete, please follow these steps to configure Podman:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Copy the /usr/share/containers/containers.conf file to /etc/containers/containers.conf."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo cp /usr/share/containers/containers.conf /etc/containers/containers.conf\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Edit the /etc/containers/containers.conf file."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo vi /etc/containers/containers.conf\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Add the following content to the [network] section:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'network_backend="netavark"\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Save the file."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Reset Podman:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"podman system reset\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reboot the system:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo reboot\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsx)(n.p,{children:"If you skip the step about podman network stack above, you will encounter network related issues. Please make sure you have completed this step."})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},65699:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[];function c(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"When using Podman rootless to install the Appcircle server, please note that privileged ports (ports below 1024) cannot be utilized in rootless mode. By default, the Appcircle server listens on ports 8080 and 8443 for Podman installations."}),"\n",(0,s.jsxs)(n.p,{children:["You must use a port-forwarding tool like ",(0,s.jsx)(n.code,{children:"socat"}),". This way, you can forward traffic from port 80 to 8080 and from port 443 to 8443."]}),"\n",(0,s.jsxs)(n.p,{children:["You should install ",(0,s.jsx)(n.code,{children:"socat"})," from official repositories and create two systemd services so port forwarding stays even after the server reboot. This can be done by running the following steps:"]}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.p,{children:["You must create the ",(0,s.jsx)(n.code,{children:"socat"})," services below, even if you are using Podman with the ",(0,s.jsx)(n.code,{children:"root"})," user."]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo dnf install -y socat\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Save the file below as ",(0,s.jsx)(n.code,{children:"port-redirect-80.service"})," in ",(0,s.jsx)(n.code,{children:"/etc/systemd/system/"})," directory."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo vi /etc/systemd/system/port-redirect-80.service\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[Unit]\nDescription=Port Redirect Service - Port 80\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/socat TCP-LISTEN:80,fork,reuseaddr TCP:127.0.0.1:8080\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Save the file below as ",(0,s.jsx)(n.code,{children:"port-redirect-443.service"})," in ",(0,s.jsx)(n.code,{children:"/etc/systemd/system/"})," directory."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo vi /etc/systemd/system/port-redirect-443.service\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"[Unit]\nDescription=Port Redirect Service - Port 443\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/socat TCP-LISTEN:443,fork,reuseaddr TCP:127.0.0.1:8443\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then, execute the below commands to activate port redirections."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo systemctl daemon-reload && \\\nsudo systemctl enable --now port-redirect-80.service && \\\nsudo systemctl enable --now port-redirect-443.service\n"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},99170:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[];function c(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"spacetech"})," in the example codes below are example project name."]}),(0,s.jsxs)(n.p,{children:["Please find your own project name and replace ",(0,s.jsx)(n.code,{children:"spacetech"})," with your project name."]}),(0,s.jsxs)(n.p,{children:["To see projects, you can check the ",(0,s.jsx)(n.code,{children:"projects"})," directory."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ls -l ./projects\n"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},44394:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>t});var s=r(74848),i=r(28453);const t=[{value:"Swappiness",id:"swappiness",level:4}];function c(e){const n={a:"a",code:"code",h4:"h4",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Using ",(0,s.jsx)(n.strong,{children:"swap"})," file lets self-hosted Appcircle server exceed the size of available physical memory. On memory pressure system will go on its operations with minimal degradation, when SSD used as hardware."]}),"\n",(0,s.jsxs)(n.p,{children:["So, we are recommending ",(0,s.jsx)(n.strong,{children:"swap"})," file usage on Linux."]}),"\n",(0,s.jsx)(n.p,{children:"Its size should be minimum half of the RAM size. For example if you have 64 GB RAM, then you should choose minimum 32 GB swap file size. 64 GB will be better."}),"\n",(0,s.jsx)(n.h4,{id:"swappiness",children:"Swappiness"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"swappiness"})," parameter configures how often your system swaps data out of RAM to the swap space. So, it's an important setting for swap usage and affects performance."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"10"})," is recommended value for ",(0,s.jsx)(n.code,{children:"swappiness"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["\ud83d\udcda"," For details on how to configure ",(0,s.jsx)(n.strong,{children:"swap"})," and ",(0,s.jsx)(n.code,{children:"swappiness"})," parameter, follow guide in ",(0,s.jsx)(n.a,{href:"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-22-04",children:"here"}),"."]})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},10352:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>f,contentTitle:()=>g,default:()=>y,frontMatter:()=>j,metadata:()=>s,toc:()=>v});const s=JSON.parse('{"id":"self-hosted-appcircle/install-server/linux-package/configure-server/advanced-configuration/store-dist-dmz","title":"Enterprise App Store and Testing Distribution in DMZ","description":"Learn how to create a server in DMZ for Appcircle Enterprise App Store and Testing Distribution for accessing from internet.","source":"@site/docs/self-hosted-appcircle/install-server/linux-package/configure-server/advanced-configuration/store-dist-dmz.md","sourceDirName":"self-hosted-appcircle/install-server/linux-package/configure-server/advanced-configuration","slug":"/self-hosted-appcircle/install-server/linux-package/configure-server/advanced-configuration/store-dist-dmz","permalink":"/self-hosted-appcircle/install-server/linux-package/configure-server/advanced-configuration/store-dist-dmz","draft":false,"unlisted":false,"editUrl":"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/self-hosted-appcircle/install-server/linux-package/configure-server/advanced-configuration/store-dist-dmz.md","tags":[{"inline":false,"label":"self-hosted","permalink":"/tags/self-hosted","description":"Description for self-hosted"},{"inline":false,"label":"advanced configuration","permalink":"/tags/advanced-configuration","description":"Description for advanced configuration"},{"inline":false,"label":"dmz","permalink":"/tags/dmz","description":"Description for dmz"},{"inline":false,"label":"enterprise app store","permalink":"/tags/enterprise-app-store","description":"Description for enterprise app store"},{"inline":false,"label":"testing distribution","permalink":"/tags/testing-distribution","description":"Description for testing distribution"}],"version":"current","sidebarPosition":12,"frontMatter":{"title":"Enterprise App Store and Testing Distribution in DMZ","description":"Learn how to create a server in DMZ for Appcircle Enterprise App Store and Testing Distribution for accessing from internet.","tags":["self-hosted","advanced configuration","dmz","enterprise app store","testing distribution"],"sidebar_position":12},"sidebar":"mySidebar","previous":{"title":"Command-Line Interface (CLI) Configuration","permalink":"/self-hosted-appcircle/install-server/linux-package/configure-server/advanced-configuration/appcircle-cli"},"next":{"title":"Restarting Host","permalink":"/self-hosted-appcircle/install-server/linux-package/configure-server/restarting-host"}}');var i=r(74848),t=r(28453),c=r(11470),l=r(19365),o=r(99170),a=r(86705),d=r(65699),h=r(14817);r(96481);var p=r(44394),u=r(36863),x=r(69678),m=r(93978);const j={title:"Enterprise App Store and Testing Distribution in DMZ",description:"Learn how to create a server in DMZ for Appcircle Enterprise App Store and Testing Distribution for accessing from internet.",tags:["self-hosted","advanced configuration","dmz","enterprise app store","testing distribution"],sidebar_position:12},g=void 0,f={},v=[{value:"Overview",id:"overview",level:2},{value:"Appcircle DMZ Server Pre-requirements",id:"appcircle-dmz-server-pre-requirements",level:2},{value:"Supported Linux Distributions",id:"supported-linux-distributions",level:3},{value:"Hardware Requirements",id:"hardware-requirements",level:3},{value:"Swap",id:"swap",level:4},...p.RM,{value:"Software Requirements",id:"software-requirements",level:3},{value:"Container Engine",id:"container-engine",level:4},{value:"Tools",id:"tools",level:4},{value:"Enabling the Linger Option",id:"enabling-the-linger-option",level:4},...a.RM,{value:"Overcoming Privileged Port Limitations",id:"overcoming-privileged-port-limitations",level:4},...d.RM,{value:"Podman Network Stack",id:"podman-network-stack",level:4},...h.RM,{value:"Tools",id:"tools-1",level:4},{value:"Firewall Configuration",id:"firewall-configuration",level:3},{value:"SELinux",id:"selinux",level:4},{value:"DNS Entries",id:"dns-entries",level:3},...o.RM,{value:"Creating the Appcircle DMZ Server Configuration",id:"creating-the-appcircle-dmz-server-configuration",level:2},...o.RM,{value:"Creating the Appcircle DMZ Server",id:"creating-the-appcircle-dmz-server",level:2},{value:"Create Appcircle DMZ Directory",id:"create-appcircle-dmz-directory",level:3},{value:"Configure the System",id:"configure-the-system",level:3},{value:"Starting the Appcircle DMZ Server",id:"starting-the-appcircle-dmz-server",level:3},{value:"Stopping the Appcircle DMZ Server",id:"stopping-the-appcircle-dmz-server",level:2},{value:"Upgrading Appcircle DMZ and Appcircle server",id:"upgrading-appcircle-dmz-and-appcircle-server",level:2},...u.RM,{value:"Appcircle DMZ Server Monitoring",id:"appcircle-dmz-server-monitoring",level:2},{value:"Restarting the Appcircle DMZ Server Host",id:"restarting-the-appcircle-dmz-server-host",level:2},{value:"Troubleshooting &amp; FAQ",id:"troubleshooting--faq",level:2},{value:"How can we change the Appcircle authentication domain on the DMZ server for internet users?",id:"how-can-we-change-the-appcircle-authentication-domain-on-the-dmz-server-for-internet-users",level:3},...u.RM,...o.RM,...m.RM];function b(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"A Demilitarized Zone (DMZ) in networking is a segment of an internal network that is exposed to external networks, typically over the internet. By isolating Appcircle DMZ server from the internal network, you ensure that it remains secure."}),"\n",(0,i.jsx)(n.p,{children:"This is particularly useful when users need to access Testing Distribution and Enterprise App Store but not all features for business operations within the private network."}),"\n",(0,i.jsx)(n.p,{children:"The Testing Distribution module and Enterprise App Store module hosted on the Appcircle DMZ server can be accessed by users from the internet, ensuring they have secure access to these critical features while keeping sensitive business data within your private network. This setup provides a balance between security and productivity in an organization's IT environment."}),"\n",(0,i.jsx)(x.A,{url:"https://cdn.appcircle.io/docs/assets/be-3008-dmz-detailed-diagram.png"}),"\n",(0,i.jsx)(n.p,{children:"We assume that you have already set up an Appcircle server successfully. This document will guide you through creating Appcircle DMZ server and Appcircle server configurations."}),"\n",(0,i.jsx)(n.p,{children:"In this document:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'We will call the "Appcircle DMZ server" to the server, which is located in the DMZ and host the Appcircle Enterprise App Store and Testing Distribution services.'}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'We will call the "Appcircle server" to the server, which is located in the private network and host the Appcircle core services.'}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"When you convert to the DMZ architecture, both the Enterprise App Store and the Testing Distribution will be transferred to the Appcircle DMZ server. We currently do not support using only one of them in the Appcircle DMZ server."})}),"\n",(0,i.jsx)(n.h2,{id:"appcircle-dmz-server-pre-requirements",children:"Appcircle DMZ Server Pre-requirements"}),"\n",(0,i.jsx)(n.p,{children:"Below are the hardware and OS requirements for self-hosted Appcircle DMZ server installation."}),"\n",(0,i.jsx)(n.h3,{id:"supported-linux-distributions",children:"Supported Linux Distributions"}),"\n",(0,i.jsx)(n.p,{children:"Self-hosted Appcircle DMZ server, can only be installed on Linux operating system."}),"\n",(0,i.jsx)(n.p,{children:"If you have installed the Appcircle server with Podman:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CentOS Stream 8 or later"}),"\n",(0,i.jsx)(n.li,{children:"RHEL 8 or later"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If you have installed the Appcircle server with Docker:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ubuntu 20.04 or later"}),"\n",(0,i.jsx)(n.li,{children:"Debian 11 or later"}),"\n",(0,i.jsx)(n.li,{children:"CentOS 8 or later"}),"\n",(0,i.jsx)(n.li,{children:"RHEL 8 or later"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"hardware-requirements",children:"Hardware Requirements"}),"\n",(0,i.jsx)(n.p,{children:"Minimum hardware requirements for self-hosted Appcircle can be:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"20GB or more free disk space"}),"\n",(0,i.jsx)(n.li,{children:"4 or more cores CPU"}),"\n",(0,i.jsx)(n.li,{children:"8 or more gigabytes (GB) RAM"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u261d"," These hardware specs are minimum requirements for basic execution and it can be used only for quick evaluation or development purposes."]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["CPU architecture must be AMD or Intel 64-bit arch (",(0,i.jsx)(n.code,{children:"x86_64"}),")."]})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"If you have enough RAM and a recent CPU, performance of Appcircle server can be limited by hard drive seek times. So, having a fast drive like a solid state drive (SSD) improves runtime."})}),"\n",(0,i.jsx)(n.p,{children:"Higher numbers will be better especially for increased number of users."}),"\n",(0,i.jsxs)(n.p,{children:["For an enterprise installation, ",(0,i.jsx)(n.strong,{children:"minimum"})," hardware requirements are"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"50GB SSD"}),"\n",(0,i.jsx)(n.li,{children:"8 CPU"}),"\n",(0,i.jsx)(n.li,{children:"16GB RAM"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["For production environments, ",(0,i.jsx)(n.strong,{children:"recommended"})," hardware requirements are"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"50GB SSD"}),"\n",(0,i.jsx)(n.li,{children:"32 CPU"}),"\n",(0,i.jsx)(n.li,{children:"64GB RAM"}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"caution",children:[(0,i.jsx)(n.h4,{id:"swap",children:"Swap"}),(0,i.jsx)(p.Ay,{})]}),"\n",(0,i.jsx)(n.h3,{id:"software-requirements",children:"Software Requirements"}),"\n",(0,i.jsx)(n.h4,{id:"container-engine",children:"Container Engine"}),"\n",(0,i.jsx)(n.p,{children:"You must use the same container engine with on the Appcircle server and the Appcircle DMZ server."}),"\n",(0,i.jsxs)(n.p,{children:["If you have installed the Appcircle server with Podman, you ",(0,i.jsx)(n.strong,{children:"must"})," use Podman on the Appcircle DMZ server."]}),"\n",(0,i.jsxs)(n.p,{children:["If you have installed the Appcircle server with Docker, you ",(0,i.jsx)(n.strong,{children:"must"})," use Docker on the Appcircle DMZ server."]}),"\n",(0,i.jsxs)(c.A,{children:[(0,i.jsxs)(l.A,{value:"podman",label:"Podman",default:!0,children:[(0,i.jsx)(n.h4,{id:"tools",children:"Tools"}),(0,i.jsx)(n.p,{children:"You need to have the following tools installed on your system:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"curl"}),"\n",(0,i.jsx)(n.li,{children:"tar"}),"\n",(0,i.jsx)(n.li,{children:"podman"}),"\n",(0,i.jsx)(n.li,{children:"podman-compose"}),"\n"]}),(0,i.jsx)(n.p,{children:"You can install these dependencies from your package repository depending on your distro."}),(0,i.jsx)(n.h4,{id:"enabling-the-linger-option",children:"Enabling the Linger Option"}),(0,i.jsx)(a.Ay,{}),(0,i.jsx)(n.h4,{id:"overcoming-privileged-port-limitations",children:"Overcoming Privileged Port Limitations"}),(0,i.jsx)(d.Ay,{}),(0,i.jsx)(n.h4,{id:"podman-network-stack",children:"Podman Network Stack"}),(0,i.jsx)(h.Ay,{})]}),(0,i.jsxs)(l.A,{value:"docker",label:"Docker",default:!0,children:[(0,i.jsx)(n.h4,{id:"tools-1",children:"Tools"}),(0,i.jsx)(n.p,{children:"You need to have the following tools installed on your system:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"curl"}),"\n",(0,i.jsx)(n.li,{children:"tar"}),"\n",(0,i.jsx)(n.li,{children:"docker"}),"\n",(0,i.jsx)(n.li,{children:"docker compose"}),"\n"]}),(0,i.jsx)(n.p,{children:"You can install these dependencies from your package repository depending on your distro."})]})]}),"\n",(0,i.jsx)(n.h3,{id:"firewall-configuration",children:"Firewall Configuration"}),"\n",(0,i.jsxs)(c.A,{children:[(0,i.jsxs)(l.A,{value:"rhel",label:"RHEL/CentOS",default:!0,children:[(0,i.jsxs)(n.p,{children:["If you are using ",(0,i.jsx)(n.code,{children:"Firewalld"}),", you need to open the ports below according to your server configuration."]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If you plan to run the Appcircle DMZ server with HTTPS:"}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --add-port=80/tcp --permanent\nsudo firewall-cmd --add-port=443/tcp --permanent\nsudo firewall-cmd --reload\n"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If you plan to run the Appcircle DMZ server with HTTP:"}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --add-port=80/tcp --permanent\nsudo firewall-cmd --reload\n"})}),(0,i.jsx)(n.p,{children:"To check if the ports are open, you can run the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --list-ports\n"})})]}),(0,i.jsxs)(l.A,{value:"debian",label:"Ubuntu/Debian",default:!0,children:[(0,i.jsxs)(n.p,{children:["If you are using ",(0,i.jsx)(n.code,{children:"UFW (Uncomplicated Firewall)"}),", you need to open the 80 and 443 ports for the Appcircle DMZ server."]}),(0,i.jsxs)(n.p,{children:["Check if the ",(0,i.jsx)(n.code,{children:"ufw"})," is active."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo ufw status\n"})}),(0,i.jsxs)(n.p,{children:["If you see ",(0,i.jsx)(n.code,{children:"Status: active"})," as the output, you should allow TCP 80 and TCP 443 ports for Appcircle DMZ server to accept connections."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo ufw allow 80 && \\\nsudo ufw allow 443\n"})}),(0,i.jsx)(n.p,{children:"To check if the ports are open, you can run the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo ufw status verbose\n"})})]})]}),"\n",(0,i.jsx)(n.h4,{id:"selinux",children:"SELinux"}),"\n",(0,i.jsx)(n.p,{children:"You must use the same SELinux mode on the Appcircle server and the Appcircle DMZ server."}),"\n",(0,i.jsx)(n.p,{children:"You can check the SELinux mode with the command below."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"getenforce\n"})}),"\n",(0,i.jsx)(n.h3,{id:"dns-entries",children:"DNS Entries"}),"\n",(0,i.jsx)(n.p,{children:"For Appcircle DMZ server to work successfully, you should configure the DNS records."}),"\n",(0,i.jsx)(n.p,{children:"For the clients that will connect to the Appcircle DMZ server should resolve 3 domains; Enterprise App Store, Testing Distribution and authentication domains."}),"\n",(0,i.jsx)(n.p,{children:"These domains should be resolved to the Appcircle DMZ server IP. The domains may vary according to the Appcircle server configuration. To check the current configured domains, you can follow the steps below:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Login to the Appcircle server with SSH."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Go to the Appcircle server directory."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd appcircle-server\n"})}),"\n",(0,i.jsx)(o.Ay,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Update the environment variable ",(0,i.jsx)(n.code,{children:"PATH"})," with the required dependencies."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export PATH=$PATH:$(pwd)/deps/bin\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check if your Enterprise App Store custom domain is enabled."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yq '.storeWeb.customDomain.enabled' ./projects/spacetech/export/.global.yaml\n"})}),"\n",(0,i.jsxs)(c.A,{children:[(0,i.jsxs)(l.A,{value:"custom-store-domain-enabled",label:"Enterprise App Store Custom Domain Enabled",default:!0,children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check the Enterprise App Store custom domain."}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yq '.storeWeb.customDomain.domain' ./projects/spacetech/export/.global.yaml\n"})}),(0,i.jsx)(n.p,{children:"Output:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"store.spacetech.com\n"})})]}),(0,i.jsxs)(l.A,{value:"custom-store-domain-disabled",label:"Enterprise App Store Custom Domain Disabled",default:!0,children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check the Enterprise App Store default domain."}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yq '.storeWeb.external.domain' ./projects/spacetech/export/.global.yaml\n"})}),(0,i.jsx)(n.p,{children:"Output:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"store.appcircle.spacetech.com\n"})})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check if your Testing Distribution custom domain is enabled."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yq '.testerWeb.customDomain.enabled' ./projects/spacetech/export/.global.yaml\n"})}),"\n",(0,i.jsxs)(c.A,{children:[(0,i.jsxs)(l.A,{value:"custom-tester-domain-enabled",label:"Testing Distribution Custom Domain Enabled",default:!0,children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check the Testing Distribution custom domain."}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yq '.testerWeb.customDomain.domain' ./projects/spacetech/export/.global.yaml\n"})}),(0,i.jsx)(n.p,{children:"Output:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"dist.spacetech.com\n"})})]}),(0,i.jsxs)(l.A,{value:"custom-store-domain-disabled",label:"Enterprise App Store Custom Domain Disabled",default:!0,children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check the Testing Distribution default domain."}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yq '.testerWeb.external.domain' ./projects/spacetech/export/.global.yaml\n"})}),(0,i.jsx)(n.p,{children:"Output:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"dist.appcircle.spacetech.com\n"})})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check the authentication domain of the Appcircle server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yq '.keycloak.external.domain' ./projects/spacetech/export/.global.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"auth.appcircle.spacetech.com\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check the API domain of the Appcircle server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yq '.apiGateway.external.domain' ./projects/spacetech/export/.global.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"api.appcircle.spacetech.com\n"})}),"\n",(0,i.jsx)(n.p,{children:"According to the sample outputs above, the needed domains that clients accessing via the internet should know are as follows:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"store.spacetech.com"}),": Custom Enterprise App Store domain."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dist.spacetech.com"}),": Custom Testing Distribution domain."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"auth.appcircle.spacetech.com"}),": Appcircle authentication domain."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Also the Appcircle DMZ server should be resolving some of the Appcircle server domains such as authentication and API domains."}),"\n",(0,i.jsx)(n.p,{children:"These domains should be resolved to the Appcircle server IP. The domains may vary according to the Appcircle server configuration."}),"\n",(0,i.jsx)(n.p,{children:"According to the sample outputs above, the needed domains that Appcircle DMZ server should know are as follows:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.appcircle.spacetech.com"}),": Appcircle API domain."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"auth.appcircle.spacetech.com"}),": Appcircle authentication domain."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["There is a common domain here. Be aware that the ",(0,i.jsx)(n.code,{children:"auth"})," subdomain that the clients that will access from the internet and the Appcircle DMZ server will connect to should mean two different things."]})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["You can change the Appcircle authentication domain for the users access from the internet and make it different from the internal domain using a custom domain. See the ",(0,i.jsx)(n.a,{href:"#how-can-we-change-the-appcircle-authentication-domain-on-the-dmz-server-for-internet-users",children:"FAQ"})," below for details."]})}),"\n",(0,i.jsx)(n.h2,{id:"creating-the-appcircle-dmz-server-configuration",children:"Creating the Appcircle DMZ Server Configuration"}),"\n",(0,i.jsx)(n.p,{children:"To create the Appcircle DMZ server configuration, you should login to the Appcircle server."}),"\n",(0,i.jsx)(n.p,{children:"You will create all the configuration files on the Appcircle server and then move the created configuration files to the Appcircle DMZ server."}),"\n",(0,i.jsx)(n.p,{children:"To create the Appcircle DMZ server configuration, you can follow the steps below."}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["If you modify the ",(0,i.jsx)(n.code,{children:"global.yaml"})," configuration file for the Appcircle server, you ",(0,i.jsx)(n.strong,{children:"must"})," also update the configuration on the Appcircle DMZ server. Otherwise, Appcircle services may exhibit unusual behavior or malfunction."]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Login to the Appcircle server with SSH."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Go to the Appcircle server directory."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd appcircle-server\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the running Appcircle server."}),"\n"]}),"\n",(0,i.jsx)(o.Ay,{}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./ac-self-hosted.sh -n spacetech down\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create the new configuration files for the Appcircle DMZ and the Appcircle server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./ac-self-hosted.sh -n spacetech export --dmz\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"--dmz"})," flag in the ",(0,i.jsx)(n.code,{children:"export"})," subcommand above creates the configuration files according to your ",(0,i.jsx)(n.code,{children:"global.yaml"})," file of your project for the both the Appcircle DMZ server and the Appcircle server."]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check the exported DMZ directory that contains the required files to create Appcircle DMZ server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -lah projects/spacetech/export/dmz/\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Start the Appcircle server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./ac-self-hosted.sh -n spacetech up\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Compress the directory into a tarball in the Appcircle server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tar -czf dmz.tar.gz -C projects/spacetech/export/dmz/ .\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Transfer the ",(0,i.jsx)(n.code,{children:"dmz.tar.gz"})," file to the Appcircle DMZ server with a file transfer protocol like ",(0,i.jsx)(n.code,{children:"scp"})," or ",(0,i.jsx)(n.code,{children:"ftp"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"creating-the-appcircle-dmz-server",children:"Creating the Appcircle DMZ Server"}),"\n",(0,i.jsx)(n.h3,{id:"create-appcircle-dmz-directory",children:"Create Appcircle DMZ Directory"}),"\n",(0,i.jsx)(n.p,{children:"You need to create a directory for the Appcircle DMZ server and extract the transferred configuration files."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create a Appcircle DMZ server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p appcircle-server-dmz\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Extract the tarball you transferred from the Appcircle server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tar -xzf dmz.tar.gz -C appcircle-server-dmz\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Change directory into the new directory."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd appcircle-server-dmz\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configure-the-system",children:"Configure the System"}),"\n",(0,i.jsx)(n.p,{children:"Install the required packages and configurations on the system."}),"\n",(0,i.jsxs)(n.admonition,{type:"caution",children:[(0,i.jsxs)(n.p,{children:["You need to have root access on your system for this step. Being able to run ",(0,i.jsx)(n.code,{children:"sudo"})," is sufficient for the following step. (sudoer)"]}),(0,i.jsxs)(n.p,{children:["Run the command without ",(0,i.jsx)(n.code,{children:"sudo"}),". The script will ask for the user password if it's required."]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./ac-self-hosted-dmz.sh -i\n"})}),"\n",(0,i.jsx)(n.h3,{id:"starting-the-appcircle-dmz-server",children:"Starting the Appcircle DMZ Server"}),"\n",(0,i.jsx)(n.p,{children:"After you have configured the system with the steps above, you are ready to run the Appcircle DMZ server."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Start the Appcircle DMZ server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./ac-self-hosted-dmz.sh up\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check the health of the Appcircle DMZ services."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./ac-self-hosted-dmz.sh check\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"Be sure that all the services are running and healthy. If there are connection problems between the Appcircle DMZ server and the Appcircle server, the services won't be healthy."})}),"\n",(0,i.jsx)(n.h2,{id:"stopping-the-appcircle-dmz-server",children:"Stopping the Appcircle DMZ Server"}),"\n",(0,i.jsx)(n.p,{children:"If you need to stop the Appcircle DMZ server in a case, you can run the the command below:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./ac-self-hosted-dmz.sh down\n"})}),"\n",(0,i.jsx)(n.h2,{id:"upgrading-appcircle-dmz-and-appcircle-server",children:"Upgrading Appcircle DMZ and Appcircle server"}),"\n",(0,i.jsx)(n.p,{children:"If there is a new Appcircle server version available and you want to update, you can follow the steps below to update the Appcircle server and the Appcircle DMZ server."}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"When upgrading an Appcircle server, it is critical to also update the Appcircle DMZ server. If you don't, Enterprise App Store and Testing Distribution may not function as expected."})}),"\n",(0,i.jsx)(u.Ay,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Login to the Appcircle DMZ server."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Go to the Appcircle DMZ server directory."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd appcircle-server-dmz\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stop the Appcircle DMZ Server."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./ac-self-hosted-dmz.sh down\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Delete the Appcircle DMZ server directory."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd .. && rm -rf appcircle-server-dmz\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Update the Appcircle server by following the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/linux-package/update",children:"Update document"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Create the updated Appcircle DMZ configuration files by following the ",(0,i.jsx)(n.a,{href:"#creating-the-appcircle-dmz-server-configuration",children:"Creating the Appcircle DMZ Server Configuration"})," section."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Create the new Appcircle DMZ server by following the ",(0,i.jsx)(n.a,{href:"#creating-the-appcircle-dmz-server",children:"Creating the Appcircle DMZ Server"})," section."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Re-configure the Appcircle DMZ server by following the ",(0,i.jsx)(n.a,{href:"#configure-the-system",children:"Configure the System"})," section."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Start the Appcircle DMZ server with the updated configurations by following the ",(0,i.jsx)(n.a,{href:"#starting-the-appcircle-dmz-server",children:"Starting the Appcircle DMZ Server"})," section."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"appcircle-dmz-server-monitoring",children:"Appcircle DMZ Server Monitoring"}),"\n",(0,i.jsx)(n.p,{children:"By default, the Appcircle DMZ server will try to send the container logs to the Appcircle server."}),"\n",(0,i.jsxs)(n.p,{children:["You can check the container logs on the Appcircle monitoring page. For more details about checking the logs, you can check the ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/linux-package/configure-server/monitoring",children:"Monitoring"})," page."]}),"\n",(0,i.jsx)(n.h2,{id:"restarting-the-appcircle-dmz-server-host",children:"Restarting the Appcircle DMZ Server Host"}),"\n",(0,i.jsx)(n.p,{children:"For Docker users, there are built-in mechanisms that handle container restarts, eliminating the need for manual intervention."}),"\n",(0,i.jsx)(n.p,{children:"However, Podman users will need to create a systemd unit service to ensure the application starts automatically upon server reboot."}),"\n",(0,i.jsxs)(c.A,{defaultValue:"docker",groupId:"container-engine",values:[{label:"Docker",value:"docker"},{label:"Podman",value:"podman"}],children:[(0,i.jsxs)(l.A,{value:"docker",children:[(0,i.jsx)(n.p,{children:"With Docker, you can rely on the built-in restart policies to handle the automatic startup of your Appcircle server."}),(0,i.jsx)(n.p,{children:"Docker will automatically restart the server services if the host reboots."}),(0,i.jsx)(n.p,{children:"This eliminates the need for any additional steps or configurations to ensure your application restarts upon host restart."})]}),(0,i.jsxs)(l.A,{value:"podman",children:[(0,i.jsx)(n.p,{children:"When using Podman, you will need to create a systemd unit service to enable the automatic startup of your application containers."}),(0,i.jsx)(n.p,{children:"We have a dedicated section where we explain how to create the systemd file for Appcircle DMZ server services to start automatically when the host reboots."}),(0,i.jsxs)(n.p,{children:["You can follow the ",(0,i.jsx)(n.a,{href:"../restarting-host",children:"Restarting Host"}),' document but there are two things to watch out on the "Restarting Host" document.']}),(0,i.jsxs)(n.p,{children:["You will see the ",(0,i.jsx)(n.code,{children:"ExecStart"})," line in the systemd service file like in the example below:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ExecStart=/bin/bash ${APPCIRCLE_SERVER_DIR}/ac-self-hosted.sh -n spacetech up\n"})}),(0,i.jsx)(n.p,{children:"For the Appcircle DMZ server:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"ExecStart"})," line should contain Appcircle DMZ server directory and ",(0,i.jsx)(n.code,{children:"ac-self-hosted-dmz.sh"})," as the command."]}),"\n",(0,i.jsxs)(n.li,{children:["There shouldn't be any project name. In the example above, you should remove the ",(0,i.jsx)(n.code,{children:"-n spacetech"})," section."]}),"\n"]}),(0,i.jsxs)(n.p,{children:["A full example of ",(0,i.jsx)(n.code,{children:"ExecStart"})," line should be:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ExecStart=/bin/bash /app/appcircle-server-dmz/ac-self-hosted-dmz.sh up\n"})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting--faq",children:"Troubleshooting & FAQ"}),"\n",(0,i.jsx)(n.h3,{id:"how-can-we-change-the-appcircle-authentication-domain-on-the-dmz-server-for-internet-users",children:"How can we change the Appcircle authentication domain on the DMZ server for internet users?"}),"\n",(0,i.jsxs)(n.p,{children:["You can use an additional custom domain for Appcircle authentication so that internet users can  access authentication services from the internet without using the internal ",(0,i.jsx)(n.code,{children:"auth"})," ",(0,i.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/linux-package/installation/docker#4-dns-settings",children:"subdomain"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["The custom domain applies to the Appcircle DMZ server only. When connecting to the Appcircle server located within the private network, you should continue to utilize the default ",(0,i.jsx)(n.code,{children:"auth"})," sudomain for Appcircle authentication services."]})}),"\n",(0,i.jsx)(n.p,{children:"Follow the steps below to make relevant configurations on the Appcircle server."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["This feature is supported for Appcircle server version ",(0,i.jsx)(n.code,{children:"3.22.0"})," or later."]})}),"\n",(0,i.jsx)(u.Ay,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Login to the Appcircle server with SSH."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Change directory to Appcircle server."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd appcircle-server\n"})}),"\n",(0,i.jsx)(o.Ay,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Edit the ",(0,i.jsx)(n.code,{children:"global.yaml"})," file of your project."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vi ./projects/spacetech/global.yaml\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Add or update the ",(0,i.jsx)(n.code,{children:"keycloak.dmzCustomDomain"})," parameter as below."]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["Please keep in mind that the ",(0,i.jsx)(n.code,{children:"keycloak"})," key might already exist in your ",(0,i.jsx)(n.code,{children:"global.yaml"})," file. In that case, find the key to add or update the ",(0,i.jsx)(n.code,{children:"dmzCustomDomain"})," part."]}),(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"keycloak"})," does not exist, then you can add it to the ",(0,i.jsx)(n.code,{children:"global.yaml"})," file of your project."]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"keycloak:\n  dmzCustomDomain:\n    enabled: true\n    domain: auth-ac.spacetech.com\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"#upgrading-appcircle-dmz-and-appcircle-server",children:"Upgrade"})})," the Appcircle server and DMZ server for changes to be applied."]}),"\n"]}),"\n","\n",(0,i.jsx)(m.Ay,{})]})}function y(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(b,{...e})}):b(e)}},19365:(e,n,r)=>{r.d(n,{A:()=>c});r(96540);var s=r(18215);const i={tabItem:"tabItem_Ymn6"};var t=r(74848);function c(e){let{children:n,hidden:r,className:c}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,s.A)(i.tabItem,c),hidden:r,children:n})}},11470:(e,n,r)=>{r.d(n,{A:()=>w});var s=r(96540),i=r(18215),t=r(23104),c=r(56347),l=r(205),o=r(57485),a=r(31682),d=r(70679);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:r}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:r,attributes:s,default:i}}=e;return{value:n,label:r,attributes:s,default:i}}))}(r);return function(e){const n=(0,a.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function u(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:r}=e;const i=(0,c.W6)(),t=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,o.aZ)(t),(0,s.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(i.location.search);n.set(t,e),i.replace({...i.location,search:n.toString()})}),[t,i])]}function m(e){const{defaultValue:n,queryString:r=!1,groupId:i}=e,t=p(e),[c,o]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=r.find((e=>e.default))??r[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:t}))),[a,h]=x({queryString:r,groupId:i}),[m,j]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,t]=(0,d.Dv)(r);return[i,(0,s.useCallback)((e=>{r&&t.set(e)}),[r,t])]}({groupId:i}),g=(()=>{const e=a??m;return u({value:e,tabValues:t})?e:null})();(0,l.A)((()=>{g&&o(g)}),[g]);return{selectedValue:c,selectValue:(0,s.useCallback)((e=>{if(!u({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),j(e)}),[h,j,t]),tabValues:t}}var j=r(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=r(74848);function v(e){let{className:n,block:r,selectedValue:s,selectValue:c,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:a}=(0,t.a_)(),d=e=>{const n=e.currentTarget,r=o.indexOf(n),i=l[r].value;i!==s&&(a(n),c(i))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":r},n),children:l.map((e=>{let{value:n,label:r,attributes:t}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>o.push(e),onKeyDown:h,onClick:d,...t,className:(0,i.A)("tabs__item",g.tabItem,t?.className,{"tabs__item--active":s===n}),children:r??n},n)}))})}function b(e){let{lazy:n,children:r,selectedValue:t}=e;const c=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=c.find((e=>e.props.value===t));return e?(0,s.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:c.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function y(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,i.A)("tabs-container",g.tabList),children:[(0,f.jsx)(v,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function w(e){const n=(0,j.A)();return(0,f.jsx)(y,{...e,children:h(e.children)},String(n))}},69678:(e,n,r)=>{r.d(n,{A:()=>i});r(96540);var s=r(74848);function i(e){let{url:n,alt:r}=e;return(0,s.jsx)("img",{className:"screenshot",src:n,alt:r||"Screenshot"})}},28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>l});var s=r(96540);const i={},t=s.createContext(i);function c(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);