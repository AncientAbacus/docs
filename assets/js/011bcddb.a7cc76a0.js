"use strict";(self.webpackChunkappcircle_docusaurus=self.webpackChunkappcircle_docusaurus||[]).push([[9100],{93978:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>o});var t=s(74848),r=s(28453);const o=[{value:"Need help?",id:"need-help",level:3}];function i(e){const n={a:"a",h3:"h3",...(0,r.R)(),...e.components},{ExternalUrlRef:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"need-help",children:"Need help?"}),"\n",(0,t.jsx)("p",{class:"need-help",children:"Get help from Appcircle's support team, or see how others are using Appcircle by joining our Slack Channel."}),"\n",(0,t.jsx)("p",{class:"need-help",children:(0,t.jsx)(n.a,{href:"https://join.slack.com/t/appcircleio/signup",children:(0,t.jsx)(s,{url:"https://join.slack.com/t/appcircleio/signup",title:"Slack",description:"No description available",image:"https://cdn.appcircle.io/docs/assets/appcircle-logo.png"})})})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},21914:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"self-hosted-appcircle/install-server/helm-chart/configuration/storage-configuration","title":"Storage Configuration","description":"Learn how to configure the storage details of Appcircle server Helm chart for production environments","source":"@site/docs/self-hosted-appcircle/install-server/helm-chart/configuration/storage-configuration.md","sourceDirName":"self-hosted-appcircle/install-server/helm-chart/configuration","slug":"/self-hosted-appcircle/install-server/helm-chart/configuration/storage-configuration","permalink":"/self-hosted-appcircle/install-server/helm-chart/configuration/storage-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/self-hosted-appcircle/install-server/helm-chart/configuration/storage-configuration.md","tags":[{"inline":false,"label":"self-hosted","permalink":"/tags/self-hosted","description":"Description for self-hosted"},{"inline":false,"label":"helm","permalink":"/tags/helm","description":"Helm related documentations"},{"inline":false,"label":"configuration","permalink":"/tags/configuration","description":"Description for configuration"},{"inline":false,"label":"kubernetes","permalink":"/tags/kubernetes","description":"Kubernetes related documentations"}],"version":"current","sidebarPosition":30,"frontMatter":{"title":"Storage Configuration","description":"Learn how to configure the storage details of Appcircle server Helm chart for production environments","tags":["self-hosted","helm","configuration","kubernetes"],"sidebar_position":30},"sidebar":"mySidebar","previous":{"title":"Production Readiness","permalink":"/self-hosted-appcircle/install-server/helm-chart/configuration/production-readiness"},"next":{"title":"Sensitive Values","permalink":"/self-hosted-appcircle/install-server/helm-chart/configuration/sensitive-configuration"}}');var r=s(74848),o=s(28453),i=s(93978);const a={title:"Storage Configuration",description:"Learn how to configure the storage details of Appcircle server Helm chart for production environments",tags:["self-hosted","helm","configuration","kubernetes"],sidebar_position:30},l=void 0,c={},d=[{value:"Persistent Volume Configuration",id:"persistent-volume-configuration",level:3},...i.RM];function p(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"persistent-volume-configuration",children:"Persistent Volume Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Appcircle server Helm chart supports configuring storage classes and volume sizes for persistent volume claims (PVCs). If you don't specify any storage class or size, the PVCs will be created using the default storage class of your Kubernetes cluster with the default size. If you want to adjust these settings, you can specify them in the ",(0,r.jsx)(n.code,{children:"values.yaml"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["The configurations for storage classes should be ",(0,r.jsx)(n.strong,{children:"done before the first deployment"})," and ",(0,r.jsx)(n.strong,{children:"cannot be changed later"}),". To modify these settings, you should ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/uninstallation",children:"uninstall Appcircle"})})," and redeploy it."]})}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["You can check your ",(0,r.jsx)(n.strong,{children:"default storage class"})," by running the following command and check the output:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get storageclass\n"})}),(0,r.jsxs)(n.p,{children:["According to the sample output below, there is a ",(0,r.jsx)(n.code,{children:"default"}),"\xa0storage class."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-output",children:"kubectl get storageclass\nNAME                   PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE\nlocal-path (default)   rancher.io/local-path   Delete          WaitForFirstConsumer   false                  59d\n"})}),(0,r.jsxs)(n.p,{children:["If the Kubernetes cluster you are deploying Appcircle server ",(0,r.jsx)(n.strong,{children:"doesn't have a default"})," storage class, you can ",(0,r.jsx)(n.strong,{children:"set"})," the storage class from ",(0,r.jsx)(n.code,{children:"values.yaml"}),"."]})]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["Some storage classes do not support ",(0,r.jsx)(n.strong,{children:"expanding volumes"}),". You should verify the capabilities of your own storage class. If volume expansion is needed, ",(0,r.jsx)(n.strong,{children:"manual operations"}),", such as moving data from the old volume to a new one, may be required."]})}),"\n",(0,r.jsxs)(n.p,{children:["You can configure the ",(0,r.jsx)(n.code,{children:"values.yaml"})," like in the example below. The storage values given in the example are recommended values for production usage."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"auth:\n  auth-postgresql:\n    primary:\n      persistence:\n        size: 40Gi\n        storageClass: nfs-client\nmongodb:\n  persistence:\n    size: 30Gi\n    storageClass: nfs-client\nkafka:\n  controller:\n    persistence:\n      size: 8Gi\n      storageClass: nfs-client\nminio:\n  persistence:\n    storageClass: nfs-client\n    size: 1Ti\nvault:\n  server:\n    dataStorage:\n      size: 20Gi\n      storageClass: nfs-client\nwebeventredis:\n  master:\n    persistence:\n      size: 2Gi\n      storageClass: nfs-client\n  replica:\n    persistence:\n      size: 2Gi\n      storageClass: nfs-client\n"})}),"\n",(0,r.jsx)(i.Ay,{})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var t=s(96540);const r={},o=t.createContext(r);function i(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);