"use strict";(self.webpackChunkappcircle_docusaurus=self.webpackChunkappcircle_docusaurus||[]).push([[73659],{93978:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(74848),r=s(28453);const t=[{value:"Need help?",id:"need-help",level:3}];function a(e){const n={a:"a",h3:"h3",...(0,r.R)(),...e.components},{ExternalUrlRef:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"need-help",children:"Need help?"}),"\n",(0,i.jsx)("p",{class:"need-help",children:"Get help from Appcircle's support team, or see how others are using Appcircle by joining our Slack Channel."}),"\n",(0,i.jsx)("p",{class:"need-help",children:(0,i.jsx)(n.a,{href:"https://join.slack.com/t/appcircleio/signup",children:(0,i.jsx)(s,{url:"https://join.slack.com/t/appcircleio/signup",title:"Slack",description:"No description available",image:"https://cdn.appcircle.io/docs/assets/appcircle-logo.png"})})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},65038:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(74848),r=s(28453);const t=[];function a(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"To apply configuration changes to the Appcircle server installation, update the Helm release with the new configuration using the following command:"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"The namespace, release name, and Helm repository name in the example command below are written for the example installation document. If you have changed these values while installing the Appcircle server, adjust the values if required."})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm upgrade appcircle-server appcircle/appcircle \\\n  -n appcircle \\\n  -f values.yaml\n"})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},9286:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"self-hosted-appcircle/install-server/helm-chart/configuration/sensitive-configuration","title":"Sensitive Values","description":"Learn how to configure the sensitive values for Appcircle server Helm chart","source":"@site/docs/self-hosted-appcircle/install-server/helm-chart/configuration/sensitive-configuration.md","sourceDirName":"self-hosted-appcircle/install-server/helm-chart/configuration","slug":"/self-hosted-appcircle/install-server/helm-chart/configuration/sensitive-configuration","permalink":"/self-hosted-appcircle/install-server/helm-chart/configuration/sensitive-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/self-hosted-appcircle/install-server/helm-chart/configuration/sensitive-configuration.md","tags":[{"inline":false,"label":"self-hosted","permalink":"/tags/self-hosted","description":"Description for self-hosted"},{"inline":false,"label":"helm","permalink":"/tags/helm","description":"Helm related documentations"},{"inline":false,"label":"configuration","permalink":"/tags/configuration","description":"Description for configuration"},{"inline":false,"label":"kubernetes","permalink":"/tags/kubernetes","description":"Kubernetes related documentations"}],"version":"current","sidebarPosition":40,"frontMatter":{"title":"Sensitive Values","description":"Learn how to configure the sensitive values for Appcircle server Helm chart","tags":["self-hosted","helm","configuration","kubernetes"],"sidebar_position":40},"sidebar":"mySidebar","previous":{"title":"Storage Configuration","permalink":"/self-hosted-appcircle/install-server/helm-chart/configuration/storage-configuration"},"next":{"title":"Adding CA Certificates","permalink":"/self-hosted-appcircle/install-server/helm-chart/configuration/ca-certificates"}}');var r=s(74848),t=s(28453),a=s(93978),c=s(65038);const l={title:"Sensitive Values",description:"Learn how to configure the sensitive values for Appcircle server Helm chart",tags:["self-hosted","helm","configuration","kubernetes"],sidebar_position:40},o=void 0,d={},h=[{value:"Secrets for Sensitive Values",id:"secrets-for-sensitive-values",level:2},{value:"Appcircle initial user password",id:"appcircle-initial-user-password",level:4},{value:"SMTP password",id:"smtp-password",level:4},{value:"SSL certificate",id:"ssl-certificate",level:4},{value:"Apply Configuration Changes",id:"apply-configuration-changes",level:4},...c.RM,...a.RM];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"secrets-for-sensitive-values",children:"Secrets for Sensitive Values"}),"\n",(0,r.jsx)(n.p,{children:"To manage sensitive information such as the Appcircle initial user password, SMTP password, SSL certificates, and other secrets, it is recommended to use Kubernetes secrets. This ensures that sensitive data is stored securely and can be accessed by applications running within the cluster in a controlled manner."}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["The configurations for secret values should be ",(0,r.jsx)(n.strong,{children:"done before the first deployment"})," and ",(0,r.jsx)(n.strong,{children:"cannot be changed later"}),". To modify these settings, you should ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/self-hosted-appcircle/install-server/helm-chart/uninstallation",children:"uninstall Appcircle"})})," and redeploy it."]})}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.p,{children:"The commands below assume you have already created a namespace for Appcircle. If you haven\u2019t yet, you can create the Appcircle namespace using the following commands:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create the namespace\nkubectl create namespace appcircle\n"})}),(0,r.jsxs)(n.p,{children:["Make sure to replace ",(0,r.jsx)(n.code,{children:"appcircle"})," with your preferred namespace name if necessary."]})]}),"\n",(0,r.jsx)(n.p,{children:"You can follow the steps below to create a secret for each sensitive value."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["If the ",(0,r.jsx)(n.code,{children:"HISTCONTROL"})," environment variable is set to ",(0,r.jsx)(n.code,{children:"ignoreboth"}),", commands with a leading space character will not be stored in the shell history. This allows you to create secrets safely without storing sensitive information in the shell history."]})}),"\n",(0,r.jsx)(n.h4,{id:"appcircle-initial-user-password",children:"Appcircle initial user password"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a secret with the name ",(0,r.jsx)(n.code,{children:"${releaseName}-auth-keycloak-passwords"})," containing the ",(0,r.jsx)(n.code,{children:"initialPassword"})," and ",(0,r.jsx)(n.code,{children:"adminPassword"})," keys."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["In the example, ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"appcircle-server"})})," is used as the ",(0,r.jsx)(n.strong,{children:"release name"}),". Make sure to replace it with your actual release name if it's different."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic appcircle-server-auth-keycloak-passwords \\\n  --from-literal=initialPassword=Test1234 \\\n  --from-literal=adminPassword=KeycloakAdminPassword1234 \\\n  -n appcircle\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Remove the ",(0,r.jsx)(n.code,{children:".auth.auth-keycloak.initialPassword"})," and ",(0,r.jsx)(n.code,{children:".auth.auth-keycloak.adminPassword"})," keys from the ",(0,r.jsx)(n.code,{children:"values.yaml"})," file if they exist."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"smtp-password",children:"SMTP password"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a secret with the name ",(0,r.jsx)(n.code,{children:"${releaseName}-smtp"})," containing the ",(0,r.jsx)(n.code,{children:"password"})," key."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["In the example, ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"appcircle-server"})})," is used as the ",(0,r.jsx)(n.strong,{children:"release name"}),". Make sure to replace it with your actual release name if it's different."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'kubectl create secret generic appcircle-server-smtp \\\n  --from-literal=password="superSecretSMTPPassword" \\\n  -n appcircle\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Remove the ",(0,r.jsx)(n.code,{children:".global.mail.smtp.password"})," key from the ",(0,r.jsx)(n.code,{children:"values.yaml"})," file if it exists."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"ssl-certificate",children:"SSL certificate"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a secret with the name ",(0,r.jsx)(n.code,{children:"appcircle-tls-wildcard"})," containing the ",(0,r.jsx)(n.code,{children:"tls.crt"}),", ",(0,r.jsx)(n.code,{children:"tls.key"})," and ",(0,r.jsx)(n.code,{children:"ca.crt"})," keys."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["The name ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"appcircle-tls-wildcard"})})," is ",(0,r.jsx)(n.strong,{children:"reserved"})," and ",(0,r.jsx)(n.strong,{children:"cannot be changed"}),"."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl create secret generic appcircle-tls-wildcard \\\n  --from-file=tls.crt='fullchain.crt' \\\n  --from-file=tls.key='private.key' \\\n  --from-file=ca.crt='root-ca.crt' \\\n  --type=kubernetes.io/tls \\\n  -n appcircle\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Remove the ",(0,r.jsx)(n.code,{children:".global.tlsWildcard"})," key from the ",(0,r.jsx)(n.code,{children:"values.yaml"})," file if it exists."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"apply-configuration-changes",children:"Apply Configuration Changes"}),"\n",(0,r.jsx)(c.Ay,{}),"\n",(0,r.jsx)(a.Ay,{})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var i=s(96540);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);