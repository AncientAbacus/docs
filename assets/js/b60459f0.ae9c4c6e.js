"use strict";(self.webpackChunkappcircle_docusaurus=self.webpackChunkappcircle_docusaurus||[]).push([[36743],{96990:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"marketplace/fastlane/testing-distribution/index","title":"Setting Up Appcircle Testing Distribution Plugin For Fastlane","description":"Enhance powerful action to distribute your builds to appcircle with fastlane","source":"@site/docs/marketplace/fastlane/testing-distribution/index.md","sourceDirName":"marketplace/fastlane/testing-distribution","slug":"/marketplace/fastlane/testing-distribution/","permalink":"/marketplace/fastlane/testing-distribution/","draft":false,"unlisted":false,"editUrl":"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/marketplace/fastlane/testing-distribution/index.md","tags":[{"inline":false,"label":"testing distribution","permalink":"/tags/testing-distribution","description":"Description for testing distribution"},{"inline":false,"label":"ipa distribution","permalink":"/tags/ipa-distribution","description":"Description for ipa distribution"},{"inline":false,"label":"apk distribution","permalink":"/tags/apk-distribution","description":"Description for apk distribution"},{"inline":false,"label":"binary distribution","permalink":"/tags/binary-distribution","description":"Description for binary distribution"},{"inline":false,"label":"fastlane-marketplace","permalink":"/tags/fastlane-marketplace","description":"Description for fastlane marketplace"}],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Setting Up Appcircle Testing Distribution Plugin For Fastlane","sidebar_label":"Testing Distribution","description":"Enhance powerful action to distribute your builds to appcircle with fastlane","tags":["testing distribution","ipa distribution","apk distribution","binary distribution","fastlane-marketplace"],"sidebar_position":1},"sidebar":"mySidebar","previous":{"title":"Fastlane Marketplace","permalink":"/marketplace/fastlane/"},"next":{"title":"Enterprise App Store","permalink":"/marketplace/fastlane/enterprise-app-store/"}}');var s=n(74848),r=n(28453);const a={title:"Setting Up Appcircle Testing Distribution Plugin For Fastlane",sidebar_label:"Testing Distribution",description:"Enhance powerful action to distribute your builds to appcircle with fastlane",tags:["testing distribution","ipa distribution","apk distribution","binary distribution","fastlane-marketplace"],sidebar_position:1},o="Setting Up Appcircle Testing Distribution Plugin",l={},c=[{value:"Discover Action",id:"discover-action",level:3},{value:"System Requirements",id:"system-requirements",level:3},{value:"User Permission Requirements",id:"user-permission-requirements",level:3},{value:"How to Add the Appcircle Distribute Action to Your Pipeline",id:"how-to-add-the-appcircle-distribute-action-to-your-pipeline",level:3},{value:"Distributing to Sub-Organizations",id:"distributing-to-sub-organizations",level:3},{value:"1. Using the Root Organization&#39;s Personal API Token",id:"1-using-the-root-organizations-personal-api-token",level:4},{value:"2. Using the Sub-Organization&#39;s Personal API Token",id:"2-using-the-sub-organizations-personal-api-token",level:4},{value:"CLI Usage",id:"cli-usage",level:3},{value:"Leveraging Environment Variables",id:"leveraging-environment-variables",level:3},{value:"References",id:"references",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{ExternalUrlRef:n}=i;return n||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"setting-up-appcircle-testing-distribution-plugin",children:"Setting Up Appcircle Testing Distribution Plugin"})}),"\n",(0,s.jsx)(i.p,{children:"The Appcircle Testing Distribution plugin allows users to upload their apps and start distribution to test groups or individuals."}),"\n",(0,s.jsx)(i.h3,{id:"discover-action",children:"Discover Action"}),"\n",(0,s.jsxs)(i.p,{children:["You can discover more about this action and install it from:\n",(0,s.jsx)(i.a,{href:"https://rubygems.org/gems/fastlane-plugin-appcircle_testing_distribution",children:(0,s.jsx)(n,{url:"https://rubygems.org/gems/fastlane-plugin-appcircle_testing_distribution",title:"fastlane-plugin-appcircle_testing_distribution | RubyGems.org | your community gem host",description:"No description available",image:"https://cdn.appcircle.io/docs/assets/appcircle-logo.png"})})]}),"\n",(0,s.jsx)(i.h3,{id:"system-requirements",children:"System Requirements"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Compatible Agents:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"macOS 14 (arm64)"}),"\n",(0,s.jsx)(i.li,{children:"RHEL 9 (x86_64)"}),"\n",(0,s.jsx)(i.li,{children:"Ubuntu 22.04 (x86_64)"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Supported Version:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Fastlane 2.222.0"}),"\n",(0,s.jsx)(i.li,{children:"Ruby 3.2.2"}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{type:"caution",children:(0,s.jsxs)(i.p,{children:["Currently, plugins are only compatible to use with ",(0,s.jsx)(i.strong,{children:"Appcircle Cloud"}),". ",(0,s.jsx)(i.strong,{children:"Self-hosted"})," support will be available in future releases."]})}),"\n",(0,s.jsx)(i.h3,{id:"user-permission-requirements",children:"User Permission Requirements"}),"\n",(0,s.jsx)(i.p,{children:"To perform operations such as generating a Personal API Token, creating a testing distribution profile, and managing testing groups, your user role must have the necessary permissions in the target organization. For more information about user roles and permissions, please refer to the relevant sections of the Role Management documentation below."}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Access to organization or sub-organization and generating PAT: ",(0,s.jsx)(i.a,{href:"/account/my-organization/profile-and-team/role-management#organization-management-permissions",children:"Organization Management Permissions"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Testing distribution operations and profile management: ",(0,s.jsx)(i.a,{href:"/account/my-organization/profile-and-team/role-management#testing-distribution-permissions",children:"Testing Distribution Permissions"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Testing group management: ",(0,s.jsx)(i.a,{href:"/account/my-organization/profile-and-team/role-management#testing-group-permissions",children:"Testing Group Permissions"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"how-to-add-the-appcircle-distribute-action-to-your-pipeline",children:"How to Add the Appcircle Distribute Action to Your Pipeline"}),"\n",(0,s.jsx)(i.p,{children:"To use the Appcircle Testing Distribution action, install the plugin and add the following step to your pipeline at the end:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"fastlane add_plugin appcircle_testing_distribution\n"})}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-ruby",children:'  appcircle_testing_distribution(\n    personalAPIToken: ENV["AC_PERSONAL_API_TOKEN"],\n    subOrganizationName: ENV["AC_SUB_ORGANIZATION_NAME"],\n    profileName: ENV["AC_PROFILE_NAME"],\n    createProfileIfNotExists: ENV["AC_CREATE_PROFILE_IF_NOT_EXISTS"],\n    profileCreationSettings: {\n      authType: ENV["AC_PROFILE_AUTH_TYPE"],\n      username: ENV["AC_PROFILE_USERNAME"],\n      password: ENV["AC_PROFILE_PASSWORD"],\n      testingGroupNames: ENV["AC_PROFILE_TESTING_GROUP_NAMES"]\n    },\n    appPath: ENV["AC_APP_PATH"],\n    message: ENV["AC_MESSAGE"]\n  )\n'})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"personalAPIToken"}),": The Appcircle Personal API token used to authenticate and authorize access to Appcircle services within this plugin."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"subOrganizationName"})," (optional): Required when the Root Organization's ",(0,s.jsx)(i.code,{children:"personalAPIToken"})," is used, and you want to create the profile under a sub-organization. In this case, provide the name of the sub-organization in this field. If you directly used the sub-organization's ",(0,s.jsx)(i.code,{children:"personalAPIToken"}),", this parameter is not needed."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"profileName"}),": Specifies the profile that will be used for uploading the app."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"createProfileIfNotExists"})," (optional): Ensures that a testing distribution profile is automatically created if it does not already exist; if the profile name already exists, the app will be uploaded to that existing profile instead."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"profileCreationSettings"})," (optional): If ",(0,s.jsx)(i.code,{children:"createProfileIfNotExists"})," is ",(0,s.jsx)(i.code,{children:"true"})," and a new profile being created, the profile will be configured with these settings.","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"authType"}),": Authentication type of the profile. ",(0,s.jsx)(i.code,{children:"none"}),": None, ",(0,s.jsx)(i.code,{children:"static"}),": Static Username and Password, ",(0,s.jsx)(i.code,{children:"ldap"}),": LDAP Login, ",(0,s.jsx)(i.code,{children:"sso"}),": SSO Login."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"username"}),": The username for the profile if authentication type set to ",(0,s.jsx)(i.code,{children:"static"})," (Static Username and Password)."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"password"}),": The password for the profile if authentication type set to ",(0,s.jsx)(i.code,{children:"static"})," (Static Username and Password)."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"testingGroupNames"}),": Uploaded versions will be automatically shared with these testing groups. Example format: ",(0,s.jsx)(i.code,{children:"group1, group2, group3"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"appPath"}),": Indicates the file path to the application package that will be uploaded to Appcircle Testing Distribution Profile."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"message"}),": Your message to testers, ensuring they receive important updates and information regarding the application."]}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{type:"tip",children:(0,s.jsxs)(i.p,{children:["Profile creation settings are only used when a new profile is created. If you need to update these settings, please go to the ",(0,s.jsx)(i.a,{href:"https://docs.appcircle.io/testing-distribution/create-or-select-a-distribution-profile#settings",children:"profile settings"})," in the Appcircle dashboard."]})}),"\n",(0,s.jsx)(i.admonition,{title:"Build Steps Order",type:"caution",children:(0,s.jsx)(i.p,{children:"Ensure that this action is added after build steps have been completed."})}),"\n",(0,s.jsx)(i.admonition,{type:"caution",children:(0,s.jsx)(i.p,{children:"If multiple workflows start simultaneously, the order in which versions are shared in the Testing Distribution is determined by the execution order of the publish step. The version that completes its build and triggers the publish plugin first will be shared first, followed by the others in sequence."})}),"\n",(0,s.jsx)(i.h3,{id:"distributing-to-sub-organizations",children:"Distributing to Sub-Organizations"}),"\n",(0,s.jsx)(i.p,{children:"To distribute your app to a sub-organization, you can use one of the following methods:"}),"\n",(0,s.jsx)(i.h4,{id:"1-using-the-root-organizations-personal-api-token",children:"1. Using the Root Organization's Personal API Token"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Obtain the ",(0,s.jsx)(i.code,{children:"personalAPIToken"})," for the Root Organization. This token is used to authenticate and authorize actions within Appcircle."]}),"\n",(0,s.jsxs)(i.li,{children:["Specify the ",(0,s.jsx)(i.code,{children:"subOrganizationName"})," parameter in your configuration. This parameter indicates the target sub-organization where the profile will be created and the app will be distributed."]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"2-using-the-sub-organizations-personal-api-token",children:"2. Using the Sub-Organization's Personal API Token"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Invite your user to the sub-organization and obtain the ",(0,s.jsx)(i.code,{children:"personalAPIToken"})," for the sub-organization. This token directly authenticates and authorizes actions within the specific sub-organization."]}),"\n",(0,s.jsxs)(i.li,{children:["Use the sub-organization's ",(0,s.jsx)(i.code,{children:"personalAPIToken"})," in your configuration."]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"With this configuration, the profile will be created and the app will be distributed within the sub-organization."}),"\n",(0,s.jsx)(i.h3,{id:"cli-usage",children:"CLI Usage"}),"\n",(0,s.jsxs)(i.p,{children:["Recommended method of using the action is adding it to the ",(0,s.jsx)(i.code,{children:"Fastfile"})," as described ",(0,s.jsx)(i.a,{href:"#how-to-add-the-appcircle-distribute-action-to-your-pipeline",children:"above"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"If you prefer to use it from the terminal, you can execute the following command and enter the inputs interactively:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"fastlane run appcircle_testing_distribution\n"})}),"\n",(0,s.jsxs)(i.p,{children:["To pass parameters with the command, you can use the ",(0,s.jsx)(i.code,{children:":symbol"})," format. For example:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:'fastlane run appcircle_testing_distribution parameter1:"value1" parameter2:"value2"\n'})}),"\n",(0,s.jsx)(i.admonition,{title:"IMPORTANT NOTE",type:"caution",children:(0,s.jsxs)(i.p,{children:["The CLI only supports primitive types such as integers, floats, booleans, and strings. Arrays can be passed as a comma-separated string (e.g., ",(0,s.jsx)(i.code,{children:'parameter:"value1,value2,value3"'}),"). Hashes are not currently supported, so to use parameters like ",(0,s.jsx)(i.code,{children:"profileCreationSettings"}),", it is recommended to add the action to the ",(0,s.jsx)(i.code,{children:"Fastfile"})," as described."]})}),"\n",(0,s.jsx)(i.h3,{id:"leveraging-environment-variables",children:"Leveraging Environment Variables"}),"\n",(0,s.jsxs)(i.p,{children:["Utilize environment variables seamlessly by substituting the parameters with ",(0,s.jsx)(i.code,{children:'ENV["VARIABLE_NAME"]'})," in your task inputs. The extension automatically retrieves values from the specified environment variables within your pipeline."]}),"\n",(0,s.jsx)(i.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["For details on generating an Appcircle Personal API Token, visit ",(0,s.jsx)(i.a,{href:"/appcircle-api-and-cli/api-authentication#generatingmanaging-the-personal-api-tokens",children:"Generating/Managing Personal API Tokens"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["To create or learn more about Appcircle testing and distribution profiles, please refer to ",(0,s.jsx)(i.a,{href:"/testing-distribution/create-or-select-a-distribution-profile",children:"Creating or Selecting a Distribution Profile"}),"."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>o});var t=n(96540);const s={},r=t.createContext(s);function a(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);